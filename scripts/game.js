!function(){function e(t,i,n){function a(r,o){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){var i=t[r][1][e];return a(i||e)},u,u.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}return e}()({1:[function(e,t,i){"use strict";function n(e){var t=Array.from(e.querySelectorAll("p"));t.forEach(function(e){return e.classList.add("aged")})}function a(e,t){var i=document.createElement("p");e.insertBefore(i,e.firstChild),i.innerHTML=t,i.style.opacity=0,window.getComputedStyle(i).opacity,i.style.opacity=1}function s(e){e.pauseGame(),document.querySelector("#git-kraken-ui").scrollIntoView({block:"end",behavior:"smooth"}),r=!0}Object.defineProperty(i,"__esModule",{value:!0});var r=!1,o=void 0,l=void 0;document.addEventListener("DOMContentLoaded",function(e){var t=document.querySelector("#git-kraken-figure"),i=document.querySelector("#git-kraken-log");o=t.className,l=i.innerHTML}),i["default"]={animate:function(e){var t=document.querySelector("#git-kraken-figure"),i=document.querySelector("#git-kraken-log"),o=document.querySelector("#gkui-arrow-1"),l=document.querySelector("#gkui-arrow-2");switch(r||s(this),t.classList.add(e),n(i),e){case"git-init":o.innerText="Init a repo here!",l.innerText="",a(i,"Start a fresh repo and also choose a license and a starting <code>.gitignore</code>");break;case"git-clone":o.innerText="Clone a repo here!",l.innerText="",a(i,"Connect to GitHub &amp; BitBucket to clone straight from them. No keyboard expertise required.");break;case"git-tag":o.innerText="See/create tags here",l.innerText="",a(i,"Create, delete and check for tags here.");break;case"git-checkout":o.innerText="Switch branches here",l.innerText="",a(i,"Change the current branch, delete or create new ones here.");break;case"git-show":o.innerText="",l.innerText="Inspect a commit",a(i,"See the details of a previous commit here.");break;case"git-commit":o.innerText="",l.innerText="Add stuff and commit",a(i,"View the diff, add files and commit, everything here!");break;case"git-remote":o.innerText="Remote repos",l.innerText="",a(i,"Set up and view remote repos easily.");break;case"git-log":o.innerText="",l.innerText="Graphical logs",a(i,"See what's going on the repo through logs showing commits and branches."),a(i,'<a id="gk-download" href="http://gitkraken.com" target="_blank">Unleash the Kraken</a>')}},reset:function(){var e=document.querySelector("#git-kraken-figure"),t=document.querySelector("#git-kraken-log"),i=document.querySelector("#gkui-arrow-1"),n=document.querySelector("#gkui-arrow-2");e.className=o,t.innerHTML=l,i.innerHTML="",n.innerHTML=""}}},{}],2:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=e("states/BootState"),l=n(o),h=e("states/SplashState"),u=n(h),c=e("states/LoadingState"),d=n(c),p=e("states/MenuState"),g=n(p),m=e("states/GameState"),f=n(m),y=function(e){function t(){a(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,350,600,Phaser.AUTO,"game",null));return e.state.add("boot",l["default"],!1),e.state.add("splash",u["default"],!1),e.state.add("loading",d["default"],!1),e.state.add("menu",g["default"],!1),e.state.add("game",f["default"],!1),e.state.start("boot"),e}return r(t,e),t}(Phaser.Game);new y},{"states/BootState":15,"states/GameState":16,"states/LoadingState":17,"states/MenuState":18,"states/SplashState":19}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={regular:{"short":[{cmd:"cd",os:"windows"},{cmd:"cd",os:"linux"},{cmd:"dir",os:"windows"},{cmd:"ls",os:"linux"},{cmd:"dir",os:"windows"},{cmd:"top",os:"linux"},{cmd:"pwd",os:"linux"},{cmd:"cd ..",os:"windows"},{cmd:"cd ..",os:"linux"},{cmd:"del",os:"windows"},{cmd:"md",os:"windows"},{cmd:"cp",os:"linux"},{cmd:"rm",os:"linux"},{cmd:"tar",os:"linux"},{cmd:"cd",os:"windows"},{cmd:"tar",os:"linux"},{cmd:"cat",os:"linux"},{cmd:"clear",os:"linux"},{cmd:"cls",os:"windows"},{cmd:"cat",os:"linux"},{cmd:"sed",os:"linux"},{cmd:"sh",os:"linux"},{cmd:"ps",os:"linux"},{cmd:"aux",os:"linux"},{cmd:"zip",os:"windows"}],mid:[{cmd:"apm",os:"windows"},{cmd:"apt-get",os:"linux"},{cmd:"sudo",os:"linux"},{cmd:"brew",os:"osx"},{cmd:"kill",os:"linux"},{cmd:"grep",os:"linux"},{cmd:"date",os:"linux"},{cmd:"echo",os:"linux"},{cmd:"head",os:"linux"},{cmd:"tail",os:"linux"},{cmd:"more",os:"linux"},{cmd:"less",os:"linux"},{cmd:"man",os:"linux"},{cmd:"which",os:"linux"},{cmd:"mkdir",os:"linux"},{cmd:"touch",os:"osx"},{cmd:"cd ..",os:"windows"},{cmd:"copy",os:"windows"},{cmd:"chkdsk",os:"windows"},{cmd:"cd ..",os:"linux"},{cmd:"nstat",os:"linux"},{cmd:"open",os:"linux"},{cmd:"rename",os:"linux"},{cmd:"source",os:"linux"},{cmd:"telnet",os:"linux"},{cmd:"ping",os:"windows"},{cmd:"ping",os:"linux"},{cmd:"time",os:"linux"},{cmd:"type",os:"linux"},{cmd:"wget",os:"linux"},{cmd:"curl",os:"linux"},{cmd:"whoami",os:"linux"}],large:[{cmd:"whereis",os:"osx"},{cmd:"format C:",os:"windows"},{cmd:"apt-get install",os:"linux"},{cmd:"shutdown",os:"linux"},{cmd:"shutdown",os:"windows"},{cmd:"ipconfig",os:"windows"},{cmd:"ifconfig",os:"linux"},{cmd:"cd ../../",os:"osx"},{cmd:"apt-cache search",os:"linux"},{cmd:"brew install",os:"osx"},{cmd:"mv ../ .",os:"linux"},{cmd:"copy ../ .",os:"windows"},{cmd:"cd ..",os:"osx"}]}}},{}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("levels/database"),s=n(a),r=({initialMinInterval:500,finalMinInterval:300,initialMaxInterval:300,finalMaxInterval:500,initialSpeedMultiplier:1,finalSpeedMultiplier:1.2,waves:[{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular.mid,quantity:5,git:{name:"git-init",cmd:"git init",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-clone",cmd:"git clone",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-tag",cmd:"git tag",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-checkout",cmd:"git checkout",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-show",cmd:"git show HEAD",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-commit",cmd:'git commit -am "yikes"',atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-remote",cmd:"git remote add origin bitbucket.org",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-log",cmd:"git log --graph --all --oneline",atProgress:.4}}}]},{initialMinInterval:1500,finalMinInterval:1300,initialMaxInterval:3300,finalMaxInterval:2500,initialSpeedMultiplier:1,finalSpeedMultiplier:1.2,waves:[{type:"instructions",delayAfter:0,enemies:{exactly:["type","to","shoot","at","us"]}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular.mid,quantity:3}},{type:"instructions",delayAfter:0,enemies:{exactly:["easy","huh?"]}},{type:"console",delayAfter:200,enemies:{fromPool:s["default"].regular["short"],quantity:6}},{type:"console",delayAfter:1e3,enemies:{fromPool:s["default"].regular["short"],quantity:8}}]}),o={initialMinInterval:1400,finalMinInterval:1100,initialMaxInterval:3200,finalMaxInterval:2400,initialSpeedMultiplier:1,finalSpeedMultiplier:1.25,waves:[{type:"instructions",delayAfter:200,enemies:{exactly:["git","cmds","==","prizes"]}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular["short"],quantity:4,git:{name:"git-init",cmd:"git init",atProgress:.7}}},{type:"instructions",delayAfter:200,enemies:{exactly:["keep","on!"]}},{type:"console",delayAfter:800,enemies:{fromPool:s["default"].regular["short"],quantity:6}},{type:"console",delayAfter:1e3,enemies:{fromPool:s["default"].regular.mid,quantity:2,git:{name:"git-clone",cmd:"git clone",atProgress:.4}}}]},l={initialMinInterval:1300,finalMinInterval:900,initialMaxInterval:3e3,finalMaxInterval:2e3,initialSpeedMultiplier:1,finalSpeedMultiplier:1.3,waves:[{type:"instructions",delayAfter:0,enemies:{exactly:["nice","job!"]}},{type:"console",delayAfter:400,enemies:{fromPool:s["default"].regular["short"],quantity:6}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular.mid,quantity:6,git:{name:"git-tag",cmd:"git tag",atProgress:.8}}},{type:"console",delayAfter:1e3,enemies:{fromPool:s["default"].regular.large,quantity:3}},{type:"console",delayAfter:800,enemies:{fromPool:s["default"].regular.mid,quantity:4,git:{name:"git-checkout",cmd:"git checkout master",atProgress:.5}}}]},h={initialMinInterval:1100,finalMinInterval:800,initialMaxInterval:2600,finalMaxInterval:1800,initialSpeedMultiplier:1,finalSpeedMultiplier:1.35,waves:[{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:8}},{type:"console",delayAfter:800,enemies:{fromPool:s["default"].regular.mid,quantity:4}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular.large,quantity:4,git:{name:"git-show",cmd:"git show HEAD",atProgress:.7}}},{type:"console",delayAfter:200,enemies:{fromPool:s["default"].regular.large,quantity:2}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular.mid,quantity:4,git:{name:"git-commit",cmd:'git commit -am "yikes"',atProgress:.7}}}]},u={initialMinInterval:1e3,finalMinInterval:700,initialMaxInterval:2200,finalMaxInterval:1400,initialSpeedMultiplier:1,finalSpeedMultiplier:1.45,waves:[{type:"instructions",delayAfter:10,enemies:{exactly:["almost","there..."]}},{type:"console",delayAfter:1200,enemies:{fromPool:s["default"].regular.mid,quantity:7}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular["short"],quantity:5,git:{name:"git-remote",cmd:"git remote add origin bitbucket.org",atProgress:.4}}},{type:"console",delayAfter:600,enemies:{fromPool:s["default"].regular.large,quantity:7}},{type:"console",delayAfter:1e3,enemies:{fromPool:s["default"].regular["short"],quantity:6}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular.large,quantity:4,git:{name:"git-log",cmd:"git log --graph --all --oneline",atProgress:.4}}}]};i["default"]=[r,o,l,h,u]},{"levels/database":3}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s={width:400,height:350},r=function(){function e(t){n(this,e),this.game=t}return a(e,[{key:"preload",value:function(){this.game.load.spritesheet("big-kraken","imgs/big-kraken.png",s.width,s.height),this.game.load.image("bubble","imgs/bubble.png")}},{key:"create",value:function(){this.sprite=this.game.add.sprite(this.game.world.width+s.width/2,this.game.world.height+s.height/2,"big-kraken"),this.sprite.anchor.setTo(.5,.5),this.sprite.tint=12303291,this.bubbles=this.game.add.emitter(0,0,8),this.bubbles.setAlpha(.7,0,1e3),this.bubbles.minParticleScale=.4,this.bubbles.maxParticleScale=1}},{key:"render",value:function(){}},{key:"update",value:function(){}},{key:"appear",value:function(e){var t,i,n,a,r,o,l,h,u,c=this,d=this.game.add.tween(this.sprite),p=this.game.add.tween(this.sprite),g=this.game.add.tween(this.sprite);switch(this.sprite.frame=0,e){case"bottom right":t=this.game.world.width+s.width/2,i=this.game.world.height+s.height/2,n=this.game.world.width-.25*s.width,a=this.game.world.height-.25*s.height,r=this.game.world.width*(1/30),o=this.game.world.height*(1/30),h=this.game.world.width,u=this.game.world.height,l=-45;break;case"bottom left":t=-s.width/2,i=this.game.world.height+s.height/2,n=.25*s.width,a=this.game.world.height-.25*s.height,r=-this.game.world.width*(1/30),o=this.game.world.height*(1/30),h=0,u=this.game.world.height,l=45;break;case"top right":t=this.game.world.width+s.width/2,i=-s.height/2,n=this.game.world.width-.25*s.width,a=.25*s.height,r=this.game.world.width*(1/30),o=-this.game.world.height*(1/30),h=this.game.world.width,u=0,l=-135;break;case"top left":t=-s.width/2,i=-s.height/2,n=.25*s.width,a=.25*s.height,r=-this.game.world.width*(1/30),o=-this.game.world.height*(1/30),h=0,u=0,l=135}this.sprite.x=t,this.sprite.y=i,this.sprite.angle=l,d.to({x:n,y:a},200,Phaser.Easing.Quadratic.Out,!1),p.to({x:t,y:i},200,Phaser.Easing.Quadratic.In,!1),g.to({x:n+r,y:a+o},1e3,Phaser.Easing.Quadratic.InOut,!1,0,0,!0),d.chain(g.chain(p)).start(),this.game.time.events.add(1250,function(){return c.sprite.frame=1},this),this.bubbles.makeParticles("bubble"),this.bubbles.gravity=-200,this.bubbles.x=h,this.bubbles.y=u;var m=n-t,f=a-i;this.bubbles.minParticleSpeed.setTo(m/2,f/2),this.bubbles.maxParticleSpeed.setTo(m,f),this.bubbles.start(!1,1e3,45,30)}}]),e}();i["default"]=r},{}],6:[function(e,t,i){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function m(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:m(a,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=8,h="#ff00ff",u="#000000",c=30,d=30,p=function(){function e(t,i,n,a,r,o){s(this,e),this.game=t,this.state=i,this.originalText=n,this.position=new Phaser.Point(a,r),this.name=o,this.lives=n.replace(/ /g,"").length,this.baseYSpeed=c/Math.max(1,Math.floor(this.lives/3)),this._indexOffirstAliveChar=0,this.uponDeath=function(){}}return o(e,[{key:"create",value:function(){this.sprite=this.game.add.sprite(this.position.x,this.position.y,this.spriteImage),this.sprite.anchor.setTo(.5,1),this.sprite.entity=this,this.state.enemies.add(this.sprite),this.textContent=this.game.add.text(0,l,this.originalText),this.textContent.anchor.setTo(.5,.5),this.sprite.addChild(this.textContent),this.textContent.font="Ubuntu Mono",this.textContent.fontSize=12,this.textContent.fill=u,this.defineSpeed()}},{key:"update",value:function(){}},{key:"defineSpeed",value:function(){}},{key:"deathAnimation",value:function(){}},{key:"hitAnimation",value:function(){}},{key:"wrongKeyPressed",value:function(){this.game.add.tween(this.textContent.scale).from({x:1.45,y:1.45},100,Phaser.Easing.Quadratic.Out,0).start()}},{key:"killChar",value:function(){for(;" "===this.originalText[++this._indexOffirstAliveChar];);return this.textContent.text=this.originalText.replace(this.originalText.substr(0,this._indexOffirstAliveChar)," ".repeat(this._indexOffirstAliveChar)),this.textContent.addColor(h,this._indexOffirstAliveChar),this.textContent.addColor(u,this._indexOffirstAliveChar+1),!this.hasMoreChars}},{key:"destroy",value:function(){for(var e=this;this.hasMoreChars;)this.killChar();this.textContent.destroy(),this.deathAnimation(function(){e.uponDeath(),e.sprite.parent.remove(e.sprite,!1),e.sprite.kill()},this)}},{key:"hitByTorpedo",value:function(e,t){return this.lives--,this.hitAnimation(),this.lives<=0}},{key:"spriteImage",get:function(){return"null"}},{key:"torpedoSoundSprite",get:function(){return"null"}},{key:"explosionSoundSprite",get:function(){return"null"}},{key:"hasMoreChars",get:function(){return this._indexOffirstAliveChar<this.originalText.length}},{key:"currentChar",get:function(){return this.originalText[this._indexOffirstAliveChar]}}],[{key:"preload",value:function(e){e.load.image("enemy-console","imgs/enemy-console.png"),e.load.image("enemy-instruction","imgs/enemy-instruction.png"),e.load.image("flare","imgs/flare.png"),e.load.image("console-piece","imgs/console-piece.png"),e.load.image("enemy-git","imgs/enemy-git.png"),e.load.spritesheet("star-particles","imgs/star-particles.png",20,24),e.load.image("git-piece","imgs/git-piece.png")}}]),e}();i["default"]=p;var g=(i.InstructionEnemy=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"create",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create",this).call(this),this.flare=this.game.add.emitter(0,0,10),this.flare.makeParticles("flare",0),this.flare.gravity=150,this.flare.y=-this.sprite.height/2,this.flare.setAlpha(.4,0,800),this.flare.minParticleSpeed=new Phaser.Point((-300),(-50)),this.flare.maxParticleSpeed=new Phaser.Point(300,50)}},{key:"defineSpeed",value:function(){this.sprite.body.velocity.x=0,this.sprite.body.velocity.y=4*d}},{key:"update",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this),this.sprite.body.velocity.y>d&&this.sprite.body.velocity.y--}},{key:"deathAnimation",value:function(e,t){var i=this,n=this.game.add.tween(this.sprite.scale),a=this.game.add.tween(this.sprite.scale);n.to({x:2,y:.25},150,Phaser.Easing.Quadratic.Out),a.to({x:.1,y:1.5},75,Phaser.Easing.Quadratic.Out),a.onComplete.addOnce(function(){i.flare.start(!0,800,null,10),e.call(t)}),this.flare.x=this.sprite.x,this.flare.y=this.sprite.y,n.chain(a).start()}},{key:"spriteImage",get:function(){return"enemy-instruction"}},{key:"type",get:function(){return"instruction"}},{key:"torpedoType",get:function(){return"laser"}},{key:"torpedoSoundSprite",get:function(){return"laserX"}},{key:"explosionSoundSprite",get:function(){return"disappearingX"}}]),t}(p),i.ConsoleEnemy=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"create",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create",this).call(this),this.flare=this.game.add.emitter(0,0,2*this.lives+15),this.flare.makeParticles(this.explosionSpriteImage,0),this.flare.gravity=150,this.flare.y=-this.sprite.height/2,this.flare.setAlpha(1,0,800),this.flare.minParticleSpeed=new Phaser.Point((-120),(-150)),this.flare.maxParticleSpeed=new Phaser.Point(120,(-50))}},{key:"defineSpeed",value:function(){var e=this.state.player.sprite.x-this.position.x,t=this.state.player.sprite.y-this.position.y,i=this.baseYSpeed*this.speedMultiplier,n=t/i,a=e/n;this.sprite.body.velocity.x=a,this.sprite.body.velocity.y=i}},{key:"deathAnimation",value:function(e,t){this.flare.x=this.sprite.x,this.flare.y=this.sprite.y,this.flare.start(!0,800,null,10),e&&e.call(t)}},{key:"hitAnimation",value:function(){for(var e=this.game.rnd.between(1,2);e>0;e--)this.flare.emitParticle(this.sprite.x,this.sprite.y-this.sprite.height/2)}},{key:"spriteImage",get:function(){return"enemy-console"}},{key:"type",get:function(){return"console"}},{key:"torpedoType",get:function(){return"torpedo"}},{key:"explosionSpriteImage",get:function(){return"console-piece"}},{key:"torpedoSoundSprite",get:function(){return"torpedoX"}},{key:"explosionSoundSprite",get:function(){return"explosionX"}},{key:"speedMultiplier",get:function(){return this._speedMultiplier||1},set:function(e){this._speedMultiplier=e}}]),t}(p));i.GitEnemy=function(e){function t(){return s(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"create",value:function(){this.baseYSpeed=c/2,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create",this).call(this),this.sprite.scale.setTo(1.25,1.25),this.stars=this.game.add.emitter(0,0,30),this.sprite.addChild(this.stars),this.stars.makeParticles("star-particles",[0,1,2,3,4,5,6,7]),this.stars.setAlpha(.55,0,700),this.stars.minParticleScale=.5,this.stars.maxParticleScale=1,this.stars.minParticleSpeed.setTo(0,-80),this.stars.maxParticleSpeed.setTo(0,-120),this.stars.start(!1,700,100,0)}},{key:"spriteImage",get:function(){return"enemy-git"}},{key:"torpedoType",get:function(){return"big-boy"}},{key:"torpedoSoundSprite",get:function(){return"torpedoX"}},{key:"explosionSoundSprite",get:function(){return"star"}},{key:"explosionSpriteImage",get:function(){return"git-piece"}},{key:"speedMultiplier",get:function(){return 1},set:function(e){this._speedMultiplier=1}}]),t}(g)},{}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.ENEMY_GIT_DIMENSIONS=i.ENEMY_INSTRUCTIONS_DIMENSIONS=i.ENEMY_CONSOLE_DIMENSIONS=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("objects/Enemy"),o=n(r),l=(i.ENEMY_CONSOLE_DIMENSIONS={width:30,height:30},i.ENEMY_INSTRUCTIONS_DIMENSIONS={width:30,height:30},i.ENEMY_GIT_DIMENSIONS={width:30,height:30},function(){function e(t,i){a(this,e),this.game=t,this.state=i,this.currentEnemy=null,this.spawned=0,this.onSpawningProgress=new Phaser.Signal}return s(e,[{key:"preload",value:function(){o["default"].preload(this.game)}},{key:"create",value:function(){this.state.enemies=this.game.add.physicsGroup()}},{key:"render",value:function(){}},{key:"update",value:function(){this.state.enemies.iterate("alive",!0,Phaser.Group.RETURN_NONE,function(e){e.entity.update()})}},{key:"spawnEnemyAt",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.ConsoleEnemy,a=arguments[4];return new n(this.game,this.state,i,e,t,a)}},{key:"spawnEnemyAtRandom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"console",i=Math.random()*this.game.world.width,n=-32;return this.spawnEnemyAt(i,n,e,t)}},{key:"nextLevel",value:function(){this.spawned=0}}]),e}());i["default"]=l},{"objects/Enemy":6}],8:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("util/GradientBackground"),o=n(r),l=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3;a(this,e),this.game=t,this.minTime=i,this.maxTime=n}return s(e,[{key:"preload",value:function(){this.game.load.image("bubble","imgs/bubble.png"),this.bg=new o["default"](this.game)}},{key:"create",value:function(){this.bg.create(this.game.world.width,this.game.world.height,[{value:"#d8f6ff",position:0},{value:"#5dc4e6",position:.8}]),this.bubbles=this.game.add.physicsGroup(),this.bubbles.createMultiple(32,"bubble",!1),this.bubbles.callAll("anchor.setTo",this,.5,.5),this.game.time.events.add(this.maxTime,this.spawnBubbles,this)}},{key:"spawnBubbles",value:function(){for(var e=Math.floor(3*Math.random())+2,t=[],i=Math.random()*this.game.world.width,n=Math.random()<.5?-1:1,a=this.game.world.height,s=.2*Math.random()+.5,r=30*Math.random()+85,o=0;o<e;o++){var l=t[o]=this.bubbles.getFirstExists(!1);if(!l)break;l.reset(i,a),l.scale.x=s,l.scale.y=s,l.body.velocity.y=-r-(3*Math.random()+1)*Math.pow(1.1,e-o);var h=Math.random()*l.width*.5+l.width;i+=n*h,n*=-1;var u=Math.random()*l.height*.5+l.height;a+=u,s*=1.1+Math.random()/10}var c=Math.random()*(this.maxTime-this.minTime)+this.minTime;this.game.time.events.add(c,this.spawnBubbles,this)}},{key:"update",value:function(){this.bubbles.iterate("alive",!0,RETURN_NONE,function(e){e.bottom<0&&e.kill()},this)}}]),e}();i["default"]=l},{"util/GradientBackground":20}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s={width:25,height:25},r={bottom:10,left:5},o={width:25,height:25},l={bottom:10,left:s.width+5+5},h=[120,800,200],u=function(){function e(t,i){n(this,e),this.game=t,this.state=i}return a(e,[{key:"preload",value:function(){this.game.load.image("text-game-over","imgs/text-game-over.png"),this.game.load.image("text-game-paused","imgs/text-game-paused.png"),this.game.load.image("progress-bar","imgs/progress-bar.png"),this.game.load.spritesheet("button-pause","imgs/button-pause.png",s.width,s.height),this.game.load.spritesheet("button-music","imgs/button-music.png",o.width,o.height),this.modals=new gameModal(this.game)}},{key:"create",value:function(e,t){var i=(e.resumeCallback,e.pauseCallback),n=(e.replayCallback,e.menuCallback,e.musicCallback);this.createGameOverModal(arguments[0],t),this.createGamePausedModal(arguments[0],t),this.createEndGameModal(arguments[0],t);var a=this.game.add.button(r.left,this.game.world.height-r.bottom,"button-pause",i,t,1,0,1,0);a.anchor.setTo(0,1);var s=this.game.add.button(l.left,this.game.world.height-l.bottom,"button-music",n,t,1,0,1,0);s.anchor.setTo(0,1),this.createNextLevelMessage()}},{key:"createGameOverModal",value:function(e,t){var i=(e.resumeCallback,e.replayCallback),n=e.menuCallback;this.modals.createModal({type:"gameOver",includeBackground:!0,itemsArr:[{type:"image",content:"text-game-over",offsetY:-50},{type:"text",content:"replay",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:-70,stroke:"0x000000",strokeThickness:4,callback:i.bind(t)},{type:"text",content:"menu",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:70,stroke:"0x000000",strokeThickness:4,callback:n.bind(t)}]});var a=this.modals.getModalItem("gameOver",3),s=this.modals.getModalItem("gameOver",4);a.inputEnabled=!0,s.inputEnabled=!0,a.events.onInputOver.add(this.hoverTextButton,this,0,a),s.events.onInputOver.add(this.hoverTextButton,this,0,s),a.events.onInputOut.add(this.outTextButton,this,0,a),s.events.onInputOut.add(this.outTextButton,this,0,s)}},{key:"createGamePausedModal",value:function(e,t){var i=e.resumeCallback,n=(e.replayCallback,e.menuCallback);this.modals.createModal({type:"gamePaused",includeBackground:!0,itemsArr:[{type:"image",content:"text-game-paused",offsetY:-50},{type:"text",content:"resume",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:-70,stroke:"0x000000",strokeThickness:4,callback:i.bind(t)},{type:"text",content:"menu",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:70,stroke:"0x000000",strokeThickness:4,callback:n.bind(t)}]});var a=this.modals.getModalItem("gamePaused",3),s=this.modals.getModalItem("gamePaused",4);a.inputEnabled=!0,s.inputEnabled=!0,a.events.onInputOver.add(this.hoverTextButton,this,0,a),s.events.onInputOver.add(this.hoverTextButton,this,0,s),a.events.onInputOut.add(this.outTextButton,this,0,a),s.events.onInputOut.add(this.outTextButton,this,0,s)}},{key:"createEndGameModal",value:function(e,t){var i=(e.resumeCallback,e.replayCallback),n=e.menuCallback;this.modals.createModal({type:"endGame",includeBackground:!0,itemsArr:[{type:"text",content:"Congratulations!!\n\nGo Unleash \nYour Kraken Now",fontFamily:"Chango",fontSize:28,offsetY:-80,color:"0x9A22FF",stroke:"0x000000",strokeThickness:4},{type:"text",content:"replay",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:-70,stroke:"0x000000",strokeThickness:4,callback:i.bind(t)},{type:"text",content:"menu",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:70,stroke:"0x000000",strokeThickness:4,callback:n.bind(t)}]});var a=this.modals.getModalItem("endGame",3),s=this.modals.getModalItem("endGame",4);a.inputEnabled=!0,s.inputEnabled=!0,a.events.onInputOver.add(this.hoverTextButton,this,0,a),s.events.onInputOver.add(this.hoverTextButton,this,0,s),a.events.onInputOut.add(this.outTextButton,this,0,a),s.events.onInputOut.add(this.outTextButton,this,0,s)}},{key:"createNextLevelMessage",value:function(){var e=this,t=this.game.world.width,i=this.game.world.height;this.nextLevelTexts=[],this.nextLevelTexts.push(this.game.add.text(t,.4*i,"Next level!",{font:"40px Chewy",color:"#333333"})),this.nextLevelTexts.push(this.game.add.text(0,.55*i,"2",{font:"55px Chewy",color:"#000000"})),this.nextLevelTexts[0].anchor.setTo(0,.5),this.nextLevelTexts[1].anchor.setTo(1,.5);var n=[[.6*t,.4*t,-this.nextLevelTexts[0].width,t],[.4*t,.6*t,t,this.nextLevelTexts[1].widdth]];this.nextLevelTweens=[],this.nextLevelTweens=this.nextLevelTexts.map(function(t,i){var a=e.game.add.tween(t),s=e.game.add.tween(t),r=e.game.add.tween(t);return a.to({x:n[i][0]},h[0],Phaser.Easing.Quadratic.Out,!1,0),s.to({x:n[i][1]},h[1],Phaser.Easing.Linear.None,!1,0),r.to({x:n[i][2]},h[2],Phaser.Easing.Quadratic.In,!1,0),r.onComplete.add(function(){t.x=n[i][3]}),a.chain(s.chain(r)),a})}},{key:"hoverTextButton",value:function(e){e.fill="#FF9649"}},{key:"outTextButton",value:function(e){e.fill="#FEFF49"}},{key:"showNextLevelMessage",value:function(e){return this.nextLevelTexts[1].text=""+e,this.nextLevelTweens.forEach(function(e){return e.start()}),h.reduce(function(e,t){return e+t},0)}}]),e}();i["default"]=u},{}],10:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s={width:56,height:100},r={width:40,height:40,offsetY:-12},o={width:16,height:16},l={right:10,bottom:13,between:2},h=3,u=function(){function e(t){n(this,e),this.game=t,this.lives=new c(this.game)}return a(e,[{key:"preload",value:function(){this.game.load.spritesheet("kraken","imgs/kraken-sprite.png",s.width,s.height),this.game.load.spritesheet("kraken-particles","imgs/kraken-particles.png",1,1),this.lives.preload()}},{key:"create",value:function(){var e=this.game.world.width,t=this.game.world.height;this.sprite=this.game.add.sprite(e/2,t-50,"kraken"),this.sprite.entity=this,
this.game.physics.arcade.enable(this.sprite),this.sprite.anchor.setTo(.5,.5),this.sprite.body.setSize(r.width,r.height,0,r.offsetY);this.sprite.animations.add("goingToSwim",[0,1,2,3],20,!1),this.sprite.animations.add("swimming",[4,5],5,!0),this.sprite.animations.add("stoppingToSwim",[4,5,1,0],20,!1);this.floatingTween=this.game.add.tween(this.sprite),this.floatingTween.to({y:this.sprite.y-5},350,Phaser.Easing.Quadratic.InOut,!0,0,-1,!0),this.lives.create(),this.emitter=this.game.add.emitter(0,0,250),this.emitter.makeParticles("kraken-particles",[0,1,2,3,4]),this.sprite.addChild(this.emitter),this.emitter.gravity=400,this.emitter.x=0,this.emitter.y=.25*this.sprite.height,this.emitter.alpha=.7,this.emitter.width=.5*this.sprite.width,this.emitter.minParticleSpeed=new Phaser.Point((-30),10),this.emitter.maxParticleSpeed=new Phaser.Point(30,10)}},{key:"render",value:function(){}},{key:"playSwimming",value:function(){var e=this,t=1800,i=this.game.time.time;this.emitter.start(!1,1e3,10),this.floatingTween.pause();var n=this.game.add.tween(this.sprite),a=this.game.add.tween(this.sprite),s=this.game.add.tween(this.sprite);n.to({y:.5*this.game.world.height},t/3,Phaser.Easing.Quadratic.Out,!0),a.to({y:-.5*this.sprite.height},t/4,Phaser.Easing.Quadratic.Out,!1),s.to({y:this.game.world.height-50},t/5,Phaser.Easing.Quadratic.Out,!1),a.onComplete.add(function(){e.sprite.y=e.game.world.height+e.sprite.height/2},this),s.onComplete.add(function(){e.floatingTween.resume()},this),n.chain(a.chain(s));var r=this.emitter;this.sprite.animations.play("goingToSwim").onComplete.add(function(n){n.animations.play("swimming").onLoop.add(function(n){var a=e.game.time.time;a>=i+t&&(n.animations.play("stoppingToSwim"),r.on=!1)})})}},{key:"hit",value:function(e,t){return--this.lives.value<=0&&(e.call(t),!0)}},{key:"wrongKeyPressed",value:function(){var e=this;this.sprite.colorBlendStep=0,this.sprite.tint=16724838,this.game.add.tween(this.sprite).to({colorBlendStep:100},200,Phaser.Easing.Linear.None,!1).onUpdateCallback(function(){e.sprite.tint=Phaser.Color.interpolateColor(16724838,16777215,100,e.sprite.colorBlendStep,1)}).start()}}]),e}();i["default"]=u;var c=function(){function e(t){n(this,e),this.game=t,this._value=h}return a(e,[{key:"preload",value:function(){this.game.load.spritesheet("life","imgs/life.png",o.width,o.height)}},{key:"create",value:function(){var e=this.game.world.width,t=this.game.world.height;this.lifeIcons=this.game.add.group();for(var i=0;i<h;i++){var n=this.game.add.sprite(e-l.right-o.width/2-i*(o.width+l.between),t-o.height/2-l.bottom,"life");n.anchor.setTo(.5,.5),this.lifeIcons.add(n)}}},{key:"value",set:function(e){var t=this;this._value=e,this.lifeIcons.forEachExists(function(e){var i=t.lifeIcons.getIndex(e);e.frame=i+1>t._value?1:0},this)},get:function(){return this._value}}]),e}()},{}],11:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function k(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:k(a,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),h=e("objects/EnemySpawner"),u=n(h),c=e("objects/Enemy"),d=(n(c),e("levels/levels")),p=n(d),g=e("gkui/gkui"),m=n(g),f=600,y=function(){function e(t,i,n){r(this,e),this.wave=t,this.level=i,this.spawner=n,this.spawned=0,this.killed=0}return l(e,[{key:"start",value:function(){}},{key:"spawn",value:function(){this.spawned++,this.spawner.spawned++,this.spawner.onSpawningProgress.dispatch({progress:this.progressTotal,finished:this.progressTotal>=1})}},{key:"enemyWasDestroyed",value:function(e,t){this.killed++,this.killed>=this.totalEnemies&&e.call(t)}},{key:"progressTotal",get:function(){return this.spawner.spawned/this.spawner.totalEnemies}}]),e}(),b=function(e){function t(e,i,n){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n))}return s(t,e),l(t,[{key:"start",value:function(){this.spawner.game.time.events.repeat(f,this.totalEnemies,this.spawn,this)}},{key:"spawn",value:function(){var e=Phaser.Math.linear(1.5*h.ENEMY_INSTRUCTIONS_DIMENSIONS.width,this.spawner.game.world.width,this.spawned/this.totalEnemies),i=this.wave.enemies.exactly[this.spawned],n=this.spawner.spawnEnemyAt(e,0,i,c.InstructionEnemy);n.create(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"spawn",this).call(this)}},{key:"totalEnemies",get:function(){return this.wave.enemies.exactly.length}}]),t}(y),v=function(e){function t(e,i,n){r(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n)),o=s.spawner.consoleWaves,l=s.level.waves.indexOf(e),h=l/o.length;return s.minInterval=Phaser.Math.linear(s.level.initialMinInterval,s.level.finalMinInterval,h),s.maxInterval=Phaser.Math.linear(s.level.initialMaxInterval,s.level.finalMaxInterval,h),s.speedMultiplier=Phaser.Math.linear(s.level.initialSpeedMultiplier,s.level.finalSpeedMultiplier,h),s}return s(t,e),l(t,[{key:"start",value:function(){this.spawned<this.totalConsoleEnemies&&this.spawner.game.time.events.add(this.spawner.game.rnd.between(this.minInterval,this.maxInterval),this.spawn,this);var e=this.wave.enemies.git;if(e&&!this.hasSpawnedGitEnemy&&this.progressConsoleOnly>=e.atProgress){this.hasSpawnedGitEnemy=!0;var t=this.spawn(c.GitEnemy);t.uponDeath=function(){m["default"].animate.call(this.spawner.state,t.name)}.bind(this)}}},{key:"spawn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.ConsoleEnemy,i=e===c.ConsoleEnemy?this.nextEnemy():this.wave.enemies.git,n=e===c.ConsoleEnemy?this.spawner.game.rnd.between(-h.ENEMY_INSTRUCTIONS_DIMENSIONS.width,this.spawner.game.world.width+h.ENEMY_INSTRUCTIONS_DIMENSIONS.width):this.spawner.game.rnd.between(this.spawner.game.world.width/3,this.spawner.game.world.width/3*2),a=this.spawner.spawnEnemyAt(n,0,i.cmd,e,i.name);return a.speedMultiplier=this.speedMultiplier,a.create(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"spawn",this).call(this),this.start(),a}},{key:"nextEnemy",value:function(){return this.wave.enemies.fromPool?this.spawner.game.rnd.pick(this.wave.enemies.fromPool):this.wave.enemies.exactly?this.wave.enemies.exactly[this.spawned]:"null"}},{key:"totalEnemies",get:function(){return this._totalEnemies||(this._totalEnemies=this.totalConsoleEnemies+(this.wave.enemies.git?1:0)),this._totalEnemies}},{key:"totalConsoleEnemies",get:function(){return this._totalConsoleEnemies||(this._totalConsoleEnemies=0+(this.wave.enemies.quantity||0)+(this.wave.enemies.exactly||[]).length),this._totalConsoleEnemies}},{key:"progressConsoleOnly",get:function(){return(this.spawned-(this.hasSpawnedGitEnemy?1:0))/this.totalConsoleEnemies}}]),t}(y),w=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.levels=p["default"],n.currentLevelIndex=0,n._totalEnemies=[],n.state.onDestroyingProgress.add(n.enemyWasDestroyed,n),n}return s(t,e),l(t,[{key:"start",value:function(){var e=this;this.spawned=0,this.waves=this.levels[this.currentLevelIndex].waves.map(function(t){var i="instructions"===t.type?b:v;return new i(t,e.currentLevel,e)}),this.currentWaveIndex=0,this.currentWave.start()}},{key:"nextWave",value:function(){var e=this.currentWave;this.currentWaveIndex++,this.currentWave&&this.game.time.events.add(e.wave.delayAfter,this.currentWave.start,this.currentWave)}},{key:"hasNextLevel",value:function(){return this.currentLevelIndex+1<this.levels.length}},{key:"nextLevel",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"nextLevel",this).call(this),this.currentLevelIndex++,this.start()}},{key:"enemyWasDestroyed",value:function(){this.currentWave||console.error("tried to tell a wave spawner that an enemy was destroyed, but there were no more currentWave"),this.currentWave.enemyWasDestroyed(this.nextWave,this)}},{key:"currentWave",get:function(){return this.waves[this.currentWaveIndex]}},{key:"currentLevel",get:function(){return this.levels[this.currentLevelIndex]}},{key:"consoleWaves",get:function(){return this._consoleWaves||(this._consoleWaves=this.currentLevel.waves.filter(function(e){return"console"===e.type})),this._consoleWaves}},{key:"totalEnemies",get:function(){return this._totalEnemies[this.currentLevelIndex]||(this._totalEnemies[this.currentLevelIndex]=this.waves.reduce(function(e,t){return e+t.totalEnemies},0)),this._totalEnemies[this.currentLevelIndex]}}]),t}(u["default"]);i["default"]=w},{"gkui/gkui":1,"levels/levels":4,"objects/Enemy":6,"objects/EnemySpawner":7}],12:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t,i,a,s){n(this,e),this.game=t,this.name=i,this.bezierPoints=a,this.t=0,this.tweenParams=s}return a(e,[{key:"createPath",value:function(){this.path=[];for(var e=1/(this.game.width/4),t=0;t<=1;t+=e){var i=this.game.math.bezierInterpolation(this.bezierPoints.x,t),n=this.game.math.bezierInterpolation(this.bezierPoints.y,t);this.path.push({x:i,y:n})}}},{key:"create",value:function(){this.createPath(),this.sprite=this.game.add.sprite(this.path[0].x,this.path[0].y,this.name),this.sprite.anchor.setTo(.5,.5),this.tween=this.game.add.tween(this),this.tween.to({t:1},this.tweenParams.duration,Phaser.Easing.Quadratic.Out),this.tween.delay(this.tweenParams.start),this.tween.start()}},{key:"update",value:function(){this.sprite.x=this.game.math.bezierInterpolation(this.bezierPoints.x,this.t),this.sprite.y=this.game.math.bezierInterpolation(this.bezierPoints.y,this.t)}}]),e}();i["default"]=s},{}],13:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function m(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:m(a,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},h=e("objects/EnemySpawner"),u=n(h),c=1500,d=1400,p=1,g=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"start",value:function(){this.game.time.events.add(c,this.randSpawn,this)}},{key:"randSpawn",value:function(){var e=this.spawnEnemyAtRandom("git clone");if(e.create(),this.spawned++,this.spawned<p){var t=Phaser.Math.linear(c,d,this.spawned/p);this.game.time.events.add(t*(.2*Math.random()+.9),this.randSpawn,this)}this.onSpawningProgress.dispatch({progress:this.spawned/p,finished:this.spawned===p})}},{key:"nextLevel",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"nextLevel",this).call(this),this.start()}}]),t}(u["default"]);i["default"]=g},{"objects/EnemySpawner":7}],14:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("util/rand"),r={width:16,height:24},o=1500,l={x:{min:200,variation:420},y:{min:-10,variation:-15}},h=390,u=100,c={JUST_SHOT:"JUST_SHOT",PURSUING:"PURSUING",ADRIFT:"ADRIFT"},d=function(){function e(t,i,a,s){n(this,e),this.game=t,this.group=i,this.player=a,this.target=s,this.state=c.JUST_SHOT}return a(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"torpedo";this.sprite=this.game.add.sprite(this.player.sprite.x,this.player.sprite.top,e),this.group.add(this.sprite),this.sprite.entity=this,this.sprite.anchor.setTo(.5,.5),this.sprite.body.velocity.x=Phaser.Utils.randomChoice(1,-1)*(0,s.randomFloat)(l.x.min,l.x.variation),this.sprite.body.velocity.y=(0,s.randomFloat)(l.y.min,l.y.variation),this.sprite.body.drag.x=.4,this.sprite.body.drag.y=.1,this.sprite.tint=16724838,this.born=this.game.time.time,this.sprite.animations.add("turnedOff",[2,3],5,!0),this.sprite.animations.add("pursuing",[0,1],20,!0),this.sprite.play("turnedOff"),this.sprite.body.allowRotation=!1}},{key:"render",value:function(){}},{key:"update",value:function(){this.checkState();var e={x:this.target.sprite.x,y:Phaser.Math.linear(this.target.sprite.y,this.target.sprite.bottom,.75)};switch(this.state){case c.JUST_SHOT:var t=Math.atan2(this.target.sprite.y-this.sprite.y,this.target.sprite.x-this.sprite.x),i=Math.cos(t)*h,n=Math.sin(t)*h;this.sprite.body.velocity.x=Phaser.Math.linear(this.sprite.body.velocity.x,i,(this.game.time.time-this.born)/o),this.sprite.body.velocity.y=Phaser.Math.linear(this.sprite.body.velocity.y,n,(this.game.time.time-this.born)/o),this.sprite.rotation=Math.atan2(this.sprite.body.velocity.y,this.sprite.body.velocity.x)+Math.PI/2;break;case c.PURSUING:this.game.time.time>this.lastSteer+u&&(this.sprite.rotation=this.game.physics.arcade.moveToObject(this.sprite,e,h)+Math.PI/2,this.lastSteer=this.game.time.time);break;case c.ADRIFT:this.sprite.rotation=Math.atan2(this.sprite.body.velocity.y,this.sprite.body.velocity.x)+Math.PI/2}}},{key:"checkState",value:function(){this.state===c.ADRIFT||this.target&&this.target.sprite&&this.target.sprite.alive?this.state===c.JUST_SHOT&&this.game.time.time>this.born+o/4&&"pursuing"!==this.sprite.animations.currentAnim.name?(this.sprite.tint=16777215,this.sprite.play("pursuing")):this.state===c.JUST_SHOT&&this.game.time.time>this.born+o&&(this.sprite.body.drag.x=0,this.sprite.body.drag.y=0,this.lastSteer=this.game.time.time-1,this.state=c.PURSUING):(this.state=c.ADRIFT,this.sprite.tint=7829367,this.sprite.play("turnedOff"))}},{key:"destroy",value:function(){this.sprite.parent.remove(this.sprite,!0),this.sprite.entity=null}}],[{key:"preload",value:function(e){e.load.spritesheet("torpedo","imgs/torpedo.png",r.width,r.height),e.load.spritesheet("laser","imgs/laser.png",r.width,r.height),e.load.spritesheet("big-boy","imgs/big-boy.png",r.width,r.height)}}]),e}();i["default"]=d},{"util/rand":22}],15:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"preload",value:function(){this.game.stage.backgroundColor="#fff",this.game.load.image("preload-bar","imgs/preload-bar.png"),this.game.load.image("preload-bar-border","imgs/preload-bar-border.png"),this.game.load.image("logo-text","imgs/trio-ternura-studios.png"),this.game.load.image("logo-ball1","imgs/logo-ball1.png"),this.game.load.image("logo-ball2","imgs/logo-ball2.png"),this.game.load.image("logo-ball3","imgs/logo-ball3.png")}},{key:"create",value:function(){this.game.state.start("splash")}}]),t}(Phaser.State);i["default"]=o},{}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("objects/KrakenPlayer"),h=n(l),u=e("objects/Enemy"),c=(n(u),e("objects/GameBackground")),d=n(c),p=e("objects/RandomSpawner"),g=(n(p),e("objects/LevelSpawner")),m=n(g),f=e("objects/Torpedo"),y=n(f),b=e("objects/GameStateHUD"),v=n(b),w=e("gkui/gkui"),k=n(w),x=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"preload",value:function(){this.player=new h["default"](this.game),this.player.preload(),this.bg=new d["default"](this.game),this.bg.preload(),this.onDestroyingProgress=new Phaser.Signal,this.spawner=new m["default"](this.game,this),this.spawner.preload(),y["default"].preload(this.game),this.hud=new v["default"](this.game,this),this.hud.preload(),this.game.load.audio("sfx","sounds/audio-sprite.ogg"),this.game.load.audio("silver-ocean","sounds/siliver-ocean-by-mathgrant.ogg"),this.currentLevel=1}},{key:"create",value:function(){var e=this;this.game.physics.startSystem(Phaser.Physics.ARCADE),this.bg.create(),this.spawner.create(),this.spawner.onSpawningProgress.add(this.progress,this),this.game.input.keyboard.addCallbacks(this,null,null,this.keyPressed),this.torpedos=this.game.add.physicsGroup(),this.hud.create({replayCallback:this.replayGame,resumeCallback:this.resumeGame,menuCallback:this.leaveToMenu,pauseCallback:this.pauseGame,musicCallback:function(){e.game.sound.mute=!e.game.sound.mute}},this),this.player.create(),this.spawner.start(),k["default"].reset(),this.fx=this.game.add.audio("sfx"),this.fx.allowMultiple=!0,this.fx.addMarker("explosion1",0,.4),this.fx.addMarker("explosion2",.5,.4),this.fx.addMarker("explosion3",1,.4),this.fx.addMarker("laser1",1.5,.1),this.fx.addMarker("laser2",2,.35),this.fx.addMarker("laser3",2.5,.32),this.fx.addMarker("torpedo1",3,.64),this.fx.addMarker("torpedo2",4,.64),this.fx.addMarker("torpedo3",5,.6),this.fx.addMarker("blip",6,.5),this.fx.addMarker("error",6.5,.4),this.fx.addMarker("hit1",7,.21),this.fx.addMarker("hit2",7.5,.22),this.fx.addMarker("hit3",8,.35),this.fx.addMarker("disappearing1",8.5,.18),this.fx.addMarker("disappearing2",9,.18),this.fx.addMarker("disappearing3",9.5,.25),this.fx.addMarker("star",10,.4),this.music=this.game.add.audio("silver-ocean",.7,!0),this.music.play()}},{key:"render",value:function(){this.spawner.render(),this.player.render()}},{key:"update",value:function(){var e=this;this.spawner.update(),this.game.physics.arcade.overlap(this.player.sprite,this.enemies,function(t,i){var n=t.entity.hit(e.gameOver,e);e.destroyEnemy(i,n)},function(e,t){return"instruction"!==t.entity.type}),this.torpedos.forEachAlive(function(e){e.entity.update()}),this.enemies.forEachAlive(function(t){t.top>e.game.world.height&&e.destroyEnemy(t,!1),e.game.physics.arcade.overlap(t,e.torpedos,function(i,n){var a=t.entity.hitByTorpedo();n.entity.destroy(),e.fx.play("hit"+e.game.rnd.between(1,3)),a&&(e.destroyEnemy(t,!1),e.fx.play(t.entity.explosionSoundSprite.replace("X",e.game.rnd.between(1,3))))},function(e,i){return i.entity.target===t.entity})},this)}},{key:"destroyEnemy",value:function(e,t){e.entity.destroy(),this.onDestroyingProgress.dispatch(),this.spawner.currentEnemy===e.entity&&(this.spawner.currentEnemy=null),!this.finishedSpawning||t||this.enemies.countLiving()||this.nextLevel()}},{key:"keyPressed",value:function(e,t){var i=this.spawner;if(" "===e&&t.preventDefault(),i.currentEnemy||this.enemies.iterate("alive",!0,Phaser.Group.RETURN_NONE,function(t){i.currentEnemy||t.entity.currentChar===e&&(i.currentEnemy=t.entity)}),i.currentEnemy)if(i.currentEnemy.currentChar===e){var n=i.currentEnemy.killChar();this.shootTorpedo(i.currentEnemy),n&&(i.currentEnemy=null)}else this.wrongKeyPressed();else this.wrongKeyPressed()}},{key:"wrongKeyPressed",value:function(){this.fx.play("error"),this.player.wrongKeyPressed(),this.spawner.currentEnemy&&this.spawner.currentEnemy.wrongKeyPressed()}},{key:"shootTorpedo",value:function(e){var t=new y["default"](this.game,this.torpedos,this.player,e);t.create(e.torpedoType),this.fx.play(e.torpedoSoundSprite.replace("X",this.game.rnd.between(1,3)))}},{key:"progress",value:function(e){e.finished&&(this.finishedSpawning=!0)}},{key:"nextLevel",value:function(){var e=this;this.finishedSpawning=!1;var t=this.spawner.hasNextLevel();if(this.player.playSwimming(t),t){var i=this.hud.showNextLevelMessage(++this.currentLevel);this.game.time.events.add(i,function(){e.spawner.nextLevel(e.currentLevel)},this)}else this.hud.modals.showModal("endGame")}},{key:"gameOver",value:function(){this.hud.modals.hideModal("gamePaused"),this.hud.modals.showModal("gameOver")}},{key:"pauseGame",value:function(){this.fx.play("blip"),this.game.physics.arcade.isPaused=!0,this.game.time.events.pause(),this.hud.modals.showModal("gamePaused")}},{key:"resumeGame",value:function(){this.fx.play("blip"),this.game.physics.arcade.isPaused=!1,this.game.time.events.resume(),this.hud.modals.hideModal("gamePaused")}},{key:"replayGame",value:function(){this.fx.play("blip"),k["default"].reset(),this.resumeGame(),this.game.state.start("game")}},{key:"leaveToMenu",value:function(){this.music.stop(),this.resumeGame(),this.game.state.start("menu")}}]),t}(Phaser.State);i["default"]=x},{"gkui/gkui":1,"objects/Enemy":6,"objects/GameBackground":8,"objects/GameStateHUD":9,"objects/KrakenPlayer":10,"objects/LevelSpawner":11,"objects/RandomSpawner":13,"objects/Torpedo":14}],17:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o={width:56,height:100},l={width:16,height:16},h={width:16,height:24},u={width:400,height:350},c={width:25,height:25},d={width:25,height:25},p=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),r(t,[{key:"preload",value:function(){this.game.stage.backgroundColor="#fff",this.progressBarBorder=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"preload-bar-border"),this.progressBarBorder.anchor.setTo(.5),this.progressBar=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY,"preload-bar"),this.progressBar.anchor.setTo(.5),this.game.load.setPreloadSprite(this.progressBar),this.game.load.image("logo-text","imgs/trio-ternura-studios.png"),this.game.load.image("logo-ball1","imgs/logo-ball1.png"),this.game.load.image("logo-ball2","imgs/logo-ball2.png"),this.game.load.image("logo-ball3","imgs/logo-ball3.png"),this.game.load.image("bubble-bg","imgs/bubble-bg.png"),this.game.load.image("bubble-bg-smaller","imgs/bubble-bg-smaller.png"),this.game.load.audio("sfx","sounds/audio-sprite.ogg"),this.game.load.audio("sweet-water","sounds/sweet-water-by-david-szesztay.ogg"),this.game.load.image("displacement-texture","imgs/displacement-texture.png"),this.game.load.script("filter","scripts/DisplacementFilter.js"),this.game.load.spritesheet("big-kraken","imgs/big-kraken.png",u.width,u.height),this.game.load.image("bubble","imgs/bubble.png"),this.game.load.spritesheet("kraken","imgs/kraken-sprite.png",o.width,o.height),this.game.load.spritesheet("kraken-particles","imgs/kraken-particles.png",1,1),this.game.load.image("bubble","imgs/bubble.png"),this.game.load.spritesheet("life","imgs/life.png",l.width,l.height),this.game.load.image("enemy-console","imgs/enemy-console.png"),this.game.load.image("enemy-instruction","imgs/enemy-instruction.png"),this.game.load.image("flare","imgs/flare.png"),this.game.load.image("console-piece","imgs/console-piece.png"),this.game.load.image("enemy-git","imgs/enemy-git.png"),this.game.load.spritesheet("star-particles","imgs/star-particles.png",20,24),this.game.load.image("git-piece","imgs/git-piece.png"),this.game.load.spritesheet("torpedo","imgs/torpedo.png",h.width,h.height),this.game.load.spritesheet("laser","imgs/laser.png",h.width,h.height),this.game.load.spritesheet("big-boy","imgs/big-boy.png",h.width,h.height),this.game.load.image("text-game-over","imgs/text-game-over.png"),this.game.load.image("text-game-paused","imgs/text-game-paused.png"),this.game.load.image("progress-bar","imgs/progress-bar.png"),this.game.load.spritesheet("button-pause","imgs/button-pause.png",c.width,c.height),this.game.load.spritesheet("button-music","imgs/button-music.png",d.width,d.height),this.game.load.audio("sfx","sounds/audio-sprite.ogg"),this.game.load.audio("silver-ocean","sounds/siliver-ocean-by-mathgrant.ogg")}},{key:"create",value:function(){this.game.state.start("menu")}}]),t}(Phaser.State);i["default"]=p},{}],18:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("objects/BigKraken"),h=n(l),u=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"preload",value:function(){this.game.load.image("bubble-bg","imgs/bubble-bg.png"),this.game.load.image("bubble-bg-smaller","imgs/bubble-bg-smaller.png"),this.game.load.audio("sfx","sounds/audio-sprite.ogg"),this.game.load.audio("sweet-water","sounds/sweet-water-by-david-szesztay.ogg"),this.game.load.image("displacement-texture","imgs/displacement-texture.png"),this.game.load.script("filter","scripts/DisplacementFilter.js"),this.bigKraken=new h["default"](this.game),this.bigKraken.preload()}},{key:"create",value:function(){this.game.stage.backgroundColor="#fff",this.bubbleField1=this.game.add.tileSprite(0,0,this.game.world.width,this.game.world.height,"bubble-bg"),this.bubbleField2=this.game.add.tileSprite(0,0,this.game.world.width,this.game.world.height,"bubble-bg-smaller"),this.bgAngle=0,this.logo=this.game.add.text(this.game.world.centerX,.8*this.game.world.centerY,"Kraken\nTyping"),this.logo.anchor.setTo(.5,.5),this.logo.fontSize=42,this.logo.lineSpacing=-33,this.logo.align="center",this.logo.font="Chango",this.logo.fontWeight="normal";var e=this.logo.context.createLinearGradient(0,0,0,this.logo.height);e.addColorStop(0,"#00FFFF"),e.addColorStop(1,"#B200FF"),this.logo.fill=e,this.logo.strokeThickness=8,this.logo.stroke="#111",this.logo.margin=new Phaser.Point(0,20),this.bigKraken.create(),this.game.time.events.add(this.game.rnd.between(3e3,4e3),this.spawnBigKraken,this),this.playGameText=this.createMenuItem("play",1.2*this.game.world.centerY,this.startGame),this.game.renderType===Phaser.WEBGL&&(this.displacementTexture=this.game.make.sprite(0,0,"displacement-texture").texture,this.displacementFilter=new PIXI.DisplacementFilter(this.displacementTexture),this.bubbleField1.filters=[this.displacementFilter],this.bubbleField2.filters=[this.displacementFilter],this.logo.filters=[this.displacementFilter],this.bigKraken.sprite.filters=[this.displacementFilter],this.displacementOffset=0),this.fx=this.game.add.audio("sfx"),this.fx=this.game.add.audio("sfx"),this.fx.allowMultiple=!0,this.fx.addMarker("blip",6,.5),this.fx.addMarker("star",10,.4),this.music=this.game.add.audio("sweet-water",.7,!0),this.music.play()}},{key:"render",value:function(){}},{key:"update",value:function(){this.bgAngle+=.001,this.bubbleField1.tilePosition.y-=.1,this.bubbleField1.tilePosition.x+=.1*Math.sin(this.bgAngle),this.game.renderType===Phaser.WEBGL?(this.displacementOffset+=.1,this.displacementFilter.offset.x=5*this.displacementOffset,this.displacementFilter.offset.y=5*this.displacementOffset):(this.bubbleField2.tilePosition.y-=.5,this.bubbleField2.tilePosition.x+=.5*Math.sin(this.bgAngle))}},{key:"spawnBigKraken",value:function(){var e=this.game.rnd.pick(["top ","bottom "])+this.game.rnd.pick(["left","right"]);this.bigKraken.appear(e),this.game.time.events.add(this.game.rnd.between(13e3,17e3),this.spawnBigKraken,this)}},{key:"createMenuItem",value:function(e,t,i){var n=this,a=this.game.add.text(this.game.world.centerX,t,e);a.anchor.setTo(.5,.5),a.font="Chango",
a.fontSize=28,a.fill="#FEFF49",a.stroke="#000000",a.strokeThickness=4,a.inputEnabled=!0,a.events.onInputDown.add(i,this),a.events.onInputOver.add(function(){a.fill="#FF9649",n.game.canvas.style.cursor="pointer"},this),a.events.onInputOut.add(function(){a.fill="#FEFF49",n.game.canvas.style.cursor="initial"},this),a.cursor="pointer"}},{key:"startGame",value:function(){this.music.stop(),this.fx.play("star"),this.game.state.start("game")}},{key:"options",value:function(){}},{key:"credits",value:function(){}}]),t}(Phaser.State);i["default"]=u},{"objects/BigKraken":5}],19:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("util/TweenParams"),h=n(l),u=e("objects/LogoBall"),c=n(u),d=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"createBalls",value:function(){var e=this,t=this.game.world.width,i=t/2,n=this.game.world.height,a=n/2,s={"logo-ball1":{x:[-50,i+50,i-50,.65*i],y:[n,.3*n,.15*n,.6*a]},"logo-ball2":{x:[-75,i+150,i+75,1*i],y:[n,.2*n,.05*n,.45*a]},"logo-ball3":{x:[-150,i+250,i+150,1.35*i],y:[n,.4*n,.25*n,.75*a]}};this.balls=Object.keys(s).map(function(t,i){var n=new c["default"](e.game,t,s[t],e["animLogoBall"+(i+1)]);return n.create(),e.game.add.existing(n.sprite),n})}},{key:"preload",value:function(){this.game.load.image("preload-bar","imgs/preload-bar.png"),this.game.load.image("preload-bar-border","imgs/preload-bar-border.png"),this.game.load.image("logo-text","imgs/trio-ternura-studios.png"),this.game.load.image("logo-ball1","imgs/logo-ball1.png"),this.game.load.image("logo-ball2","imgs/logo-ball2.png"),this.game.load.image("logo-ball3","imgs/logo-ball3.png")}},{key:"create",value:function(){this.game.stage.backgroundColor="#fff",this.animLogoText=new h["default"](200,200,Phaser.Easing.Quadratic.Out),this.animLogoBall1=new h["default"](800,750,Phaser.Easing.Bounce.Out),this.animLogoBall2=new h["default"](950,750,Phaser.Easing.Bounce.Out),this.animLogoBall3=new h["default"](1100,750,Phaser.Easing.Bounce.Out);var e=this.game.add.sprite(this.game.world.width/2,this.game.world.height,"logo-text");e.anchor.setTo(.5,0),this.game.add.tween(e).to({y:.5*this.game.world.height},this.animLogoText.duration,Phaser.Easing.Quadratic.Out,!0,this.animLogoText.start),this.createBalls(),this.game.make.text(-100,-100,"a",{font:"Chewy"}),this.game.make.text(-100,-100,"b",{font:"Chango"}),this.game.make.text(-100,-100,"c",{font:"Ubuntu Mono"}),this.game.time.events.add(5e3,this.goToMenu,this),this.game.input.keyboard.addCallbacks(this,null,null,this.goToMenu),this.game.input.keyboard.addCallbacks(this,null,null,this.goToMenu),this.game.input.mouse.capture=!0}},{key:"render",value:function(){}},{key:"update",value:function(){this.balls.forEach(function(e){e.update()}),this.game.input.activePointer.leftButton.isDown&&this.goToMenu()}},{key:"goToMenu",value:function(){this.goingToMenu||(this.game.state.start("loading"),this.goingToMenu=!0)}}]),t}(Phaser.State);i["default"]=d},{"objects/LogoBall":12,"util/TweenParams":21}],20:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){n(this,e),this.game=t}return a(e,[{key:"create",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[{value:"white",position:0}],n=this.game.add.bitmapData(e,t),a=n.context.createLinearGradient(0,0,0,t);i.forEach(function(e){a.addColorStop(e.position,e.value)}),n.context.fillStyle=a,n.context.fillRect(0,0,e,t),this.game.add.sprite(0,0,n)}}]),e}();i["default"]=s},{}],21:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function s(e,t){n(this,s),this.start=e,this.duration=t};i["default"]=a},{}],22:[function(e,t,i){"use strict";function n(e,t){return Math.random()*t+e}Object.defineProperty(i,"__esModule",{value:!0}),i.randomFloat=n},{}]},{},[2]);