!function e(t,i,n){function a(r,o){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[r]={exports:{}};t[r][0].call(h.exports,function(e){var i=t[r][1][e];return a(i?i:e)},h,h.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}({1:[function(e,t,i){"use strict";function n(e){var t=Array.from(e.querySelectorAll("p"));t.forEach(function(e){return e.classList.add("aged")})}function a(e,t){var i=document.createElement("p");e.insertBefore(i,e.firstChild),i.innerHTML=t,i.style.opacity=0,window.getComputedStyle(i).opacity,i.style.opacity=1}function s(e){e.pauseGame(),r=!0}Object.defineProperty(i,"__esModule",{value:!0});var r=!1,o=void 0,l=void 0;document.addEventListener("DOMContentLoaded",function(e){var t=document.querySelector("#git-kraken-figure"),i=document.querySelector("#git-kraken-log");o=t.className,l=i.innerHTML}),i["default"]={animate:function(e){var t=document.querySelector("#git-kraken-figure"),i=document.querySelector("#git-kraken-log"),o=document.querySelector("#gkui-arrow-1"),l=document.querySelector("#gkui-arrow-2");switch(r||s(this),t.classList.add(e),n(i),e){case"git-init":o.innerText="Init a repo here!",l.innerText="",a(i,"Start a fresh repo and also choose a license and a starting <code>.gitignore</code>");break;case"git-clone":o.innerText="Clone a repo here!",l.innerText="",a(i,"Connect to GitHub &amp; BitBucket to clone straight from them. No keyboard expertise required.");break;case"git-tag":o.innerText="See/create tags here",l.innerText="",a(i,"Create, delete and check for tags here.");break;case"git-checkout":o.innerText="Switch branches here",l.innerText="",a(i,"Change the current branch, delete or create new ones here.");break;case"git-show":o.innerText="",l.innerText="Inspect a commit",a(i,"See the details of a previous commit here.");break;case"git-commit":o.innerText="",l.innerText="Add stuff and commit",a(i,"View the diff, add files and commit, everything here!");break;case"git-remote":o.innerText="Remote repos",l.innerText="",a(i,"Set up and view remote repos easily.");break;case"git-log":o.innerText="",l.innerText="Graphical logs",a(i,"See what's going on the repo through logs showing commits and branches."),a(i,'<a id="gk-download" href="http://gitkraken.com" target="_blank">Unleash the Kraken</a>')}},reset:function(){var e=document.querySelector("#git-kraken-figure"),t=document.querySelector("#git-kraken-log"),i=document.querySelector("#gkui-arrow-1"),n=document.querySelector("#gkui-arrow-2");e.className=o,t.innerHTML=l,i.innerHTML="",n.innerHTML=""}}},{}],2:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=e("states/MenuState"),l=n(o),u=e("states/GameState"),h=n(u),c=e("states/SplashState"),d=n(c),f=function(e){function t(){a(this,t);var e=s(this,Object.getPrototypeOf(t).call(this,350,600,Phaser.AUTO,"game",null));return e.state.add("splash",d["default"],!1),e.state.add("menu",l["default"],!1),e.state.add("game",h["default"],!1),e.state.start("splash"),e}return r(t,e),t}(Phaser.Game);new f},{"states/GameState":14,"states/MenuState":15,"states/SplashState":16}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={regular:{"short":[{cmd:"cd",os:"windows"},{cmd:"cd",os:"linux"},{cmd:"dir",os:"windows"},{cmd:"ls",os:"linux"},{cmd:"dir",os:"windows"},{cmd:"top",os:"linux"},{cmd:"pwd",os:"linux"},{cmd:"cd ..",os:"windows"},{cmd:"cd ..",os:"linux"},{cmd:"del",os:"windows"},{cmd:"md",os:"windows"},{cmd:"cp",os:"linux"},{cmd:"rm",os:"linux"},{cmd:"tar",os:"linux"},{cmd:"cd",os:"windows"},{cmd:"tar",os:"linux"},{cmd:"cat",os:"linux"},{cmd:"clear",os:"linux"},{cmd:"cls",os:"windows"},{cmd:"cat",os:"linux"},{cmd:"sed",os:"linux"},{cmd:"sh",os:"linux"},{cmd:"ps",os:"linux"},{cmd:"aux",os:"linux"},{cmd:"zip",os:"windows"}],mid:[{cmd:"apm",os:"windows"},{cmd:"apt-get",os:"linux"},{cmd:"sudo",os:"linux"},{cmd:"brew",os:"osx"},{cmd:"kill",os:"linux"},{cmd:"grep",os:"linux"},{cmd:"date",os:"linux"},{cmd:"echo",os:"linux"},{cmd:"head",os:"linux"},{cmd:"tail",os:"linux"},{cmd:"more",os:"linux"},{cmd:"less",os:"linux"},{cmd:"man",os:"linux"},{cmd:"which",os:"linux"},{cmd:"mkdir",os:"linux"},{cmd:"touch",os:"osx"},{cmd:"cd ..",os:"windows"},{cmd:"copy",os:"windows"},{cmd:"chkdsk",os:"windows"},{cmd:"cd ..",os:"linux"},{cmd:"nstat",os:"linux"},{cmd:"open",os:"linux"},{cmd:"rename",os:"linux"},{cmd:"source",os:"linux"},{cmd:"telnet",os:"linux"},{cmd:"ping",os:"windows"},{cmd:"ping",os:"linux"},{cmd:"time",os:"linux"},{cmd:"type",os:"linux"},{cmd:"wget",os:"linux"},{cmd:"curl",os:"linux"},{cmd:"whoami",os:"linux"}],large:[{cmd:"whereis",os:"osx"},{cmd:"format C:",os:"windows"},{cmd:"apt-get install",os:"linux"},{cmd:"shutdown",os:"linux"},{cmd:"shutdown",os:"windows"},{cmd:"ipconfig",os:"windows"},{cmd:"ifconfig",os:"linux"},{cmd:"cd ../../",os:"osx"},{cmd:"apt-cache search",os:"linux"},{cmd:"brew install",os:"osx"},{cmd:"mv ../ .",os:"linux"},{cmd:"copy ../ .",os:"windows"},{cmd:"cd ..",os:"osx"}]}}},{}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("levels/database"),s=n(a),r=({initialMinInterval:500,finalMinInterval:300,initialMaxInterval:300,finalMaxInterval:500,initialSpeedMultiplier:1,finalSpeedMultiplier:1.2,waves:[{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular.mid,quantity:5,git:{name:"git-init",cmd:"git init",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-clone",cmd:"git clone",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-tag",cmd:"git tag",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-checkout",cmd:"git checkout",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-show",cmd:"git show HEAD~4",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-commit",cmd:'git commit -am "yikes"',atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-remote",cmd:"git remote add origin bitbucket.org",atProgress:.4}}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:2,git:{name:"git-log",cmd:"git log --graph --all --oneline",atProgress:.4}}}]},{initialMinInterval:1500,finalMinInterval:1300,initialMaxInterval:3300,finalMaxInterval:2500,initialSpeedMultiplier:1,finalSpeedMultiplier:1.2,waves:[{type:"instructions",delayAfter:200,enemies:{exactly:["type","each","word","to","shoot","at","us"]}},{type:"instructions",delayAfter:100,enemies:{exactly:["foes","are","coming...","kill","them","all!"]}},{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular.mid,quantity:3}},{type:"instructions",delayAfter:0,enemies:{exactly:["see","how","easy","that","was?"]}},{type:"console",delayAfter:200,enemies:{fromPool:s["default"].regular["short"],quantity:6}},{type:"console",delayAfter:1e3,enemies:{fromPool:s["default"].regular["short"],quantity:8}}]}),o={initialMinInterval:1400,finalMinInterval:1100,initialMaxInterval:3200,finalMaxInterval:2400,initialSpeedMultiplier:1,finalSpeedMultiplier:1.25,waves:[{type:"instructions",delayAfter:200,enemies:{exactly:["kill","git","cmds","for","prizes"]}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular["short"],quantity:4,git:{name:"git-init",cmd:"git init",atProgress:.7}}},{type:"instructions",delayAfter:200,enemies:{exactly:["keep","it","going","till","the","end"]}},{type:"console",delayAfter:800,enemies:{fromPool:s["default"].regular["short"],quantity:6}},{type:"console",delayAfter:1e3,enemies:{fromPool:s["default"].regular.mid,quantity:2,git:{name:"git-clone",cmd:"git clone",atProgress:.4}}}]},l={initialMinInterval:1300,finalMinInterval:900,initialMaxInterval:3e3,finalMaxInterval:2e3,initialSpeedMultiplier:1,finalSpeedMultiplier:1.3,waves:[{type:"instructions",delayAfter:0,enemies:{exactly:["good","job","over","there"]}},{type:"console",delayAfter:400,enemies:{fromPool:s["default"].regular["short"],quantity:6}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular.mid,quantity:6,git:{name:"git-tag",cmd:"git tag",atProgress:.8}}},{type:"console",delayAfter:1e3,enemies:{fromPool:s["default"].regular.large,quantity:3}},{type:"console",delayAfter:800,enemies:{fromPool:s["default"].regular.mid,quantity:4,git:{name:"git-checkout",cmd:"git checkout master",atProgress:.5}}}]},u={initialMinInterval:1100,finalMinInterval:800,initialMaxInterval:2600,finalMaxInterval:1800,initialSpeedMultiplier:1,finalSpeedMultiplier:1.35,waves:[{type:"console",delayAfter:0,enemies:{fromPool:s["default"].regular["short"],quantity:8}},{type:"console",delayAfter:800,enemies:{fromPool:s["default"].regular.mid,quantity:4}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular.large,quantity:4,git:{name:"git-show",cmd:"git show HEAD~4",atProgress:.7}}},{type:"console",delayAfter:200,enemies:{fromPool:s["default"].regular.large,quantity:2}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular.mid,quantity:4,git:{name:"git-commit",cmd:'git commit -am "yikes"',atProgress:.7}}}]},h={initialMinInterval:1e3,finalMinInterval:700,initialMaxInterval:2200,finalMaxInterval:1400,initialSpeedMultiplier:1,finalSpeedMultiplier:1.45,waves:[{type:"instructions",delayAfter:10,enemies:{exactly:["you","are","almost","there..."]}},{type:"console",delayAfter:1200,enemies:{fromPool:s["default"].regular.mid,quantity:7}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular["short"],quantity:5,git:{name:"git-remote",cmd:"git remote add origin bitbucket.org",atProgress:.4}}},{type:"console",delayAfter:600,enemies:{fromPool:s["default"].regular.large,quantity:7}},{type:"console",delayAfter:1e3,enemies:{fromPool:s["default"].regular["short"],quantity:6}},{type:"console",delayAfter:1500,enemies:{fromPool:s["default"].regular.large,quantity:4,git:{name:"git-log",cmd:"git log --graph --all --oneline",atProgress:.4}}}]};i["default"]=[r,o,l,u,h]},{"levels/database":3}],5:[function(e,t,i){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function p(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:p(a,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=8,u="#ff00ff",h="#000000",c=30,d=30,f=function(){function e(t,i,n,a,r,o){s(this,e),this.game=t,this.state=i,this.originalText=n,this.position=new Phaser.Point(a,r),this.name=o,this.lives=n.replace(/ /g,"").length,this.baseYSpeed=c/Math.max(1,Math.floor(this.lives/3)),this._indexOffirstAliveChar=0,this.uponDeath=function(){}}return o(e,[{key:"preload",value:function(){}},{key:"create",value:function(){this.sprite=this.game.add.sprite(this.position.x,this.position.y,this.spriteImage),this.sprite.anchor.setTo(.5,1),this.sprite.entity=this,this.state.enemies.add(this.sprite),this.textContent=this.game.add.text(0,l,this.originalText),this.textContent.anchor.setTo(.5,.5),this.sprite.addChild(this.textContent),this.textContent.font="Ubuntu Mono",this.textContent.fontSize=12,this.textContent.fill=h,this.defineSpeed()}},{key:"update",value:function(){}},{key:"defineSpeed",value:function(){}},{key:"killChar",value:function(){for(;" "===this.originalText[++this._indexOffirstAliveChar];);return this.textContent.text=this.originalText.replace(this.originalText.substr(0,this._indexOffirstAliveChar)," ".repeat(this._indexOffirstAliveChar)),this.textContent.addColor(u,this._indexOffirstAliveChar),this.textContent.addColor(h,this._indexOffirstAliveChar+1),!this.hasMoreChars}},{key:"destroy",value:function(){for(;this.hasMoreChars;)this.killChar();this.textContent.destroy(),this.uponDeath(),this.sprite.parent.remove(this.sprite,!1),this.sprite.kill()}},{key:"hitByTorpedo",value:function(e,t){return this.lives--,this.lives<=0}},{key:"spriteImage",get:function(){return"null"}},{key:"hasMoreChars",get:function(){return this._indexOffirstAliveChar<this.originalText.length}},{key:"currentChar",get:function(){return this.originalText[this._indexOffirstAliveChar]}}]),e}();i["default"]=f;var m=(i.InstructionEnemy=function(e){function t(){return s(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),o(t,[{key:"defineSpeed",value:function(){this.sprite.body.velocity.x=0,this.sprite.body.velocity.y=4*d}},{key:"update",value:function(){r(Object.getPrototypeOf(t.prototype),"update",this).call(this),this.sprite.body.velocity.y>d&&this.sprite.body.velocity.y--}},{key:"spriteImage",get:function(){return"enemy-instruction"}},{key:"type",get:function(){return"instruction"}},{key:"torpedoType",get:function(){return"laser"}}]),t}(f),i.ConsoleEnemy=function(e){function t(){return s(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),o(t,[{key:"defineSpeed",value:function(){var e=this.state.player.sprite.x-this.position.x,t=this.state.player.sprite.y-this.position.y,i=this.baseYSpeed*this.speedMultiplier,n=t/i,a=e/n;this.sprite.body.velocity.x=a,this.sprite.body.velocity.y=i}},{key:"spriteImage",get:function(){return"enemy-console"}},{key:"type",get:function(){return"console"}},{key:"torpedoType",get:function(){return"torpedo"}},{key:"speedMultiplier",get:function(){return this._speedMultiplier||1},set:function(e){this._speedMultiplier=e}}]),t}(f));i.GitEnemy=function(e){function t(){return s(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),o(t,[{key:"create",value:function(){r(Object.getPrototypeOf(t.prototype),"create",this).call(this),this.sprite.scale.setTo(1.25,1.25),this.stars=this.game.add.emitter(0,0,30),this.sprite.addChild(this.stars),this.stars.makeParticles("star-particles",[0,1,2,3,4,5,6,7]),this.stars.setAlpha(.55,0,700),this.stars.minParticleScale=.5,this.stars.maxParticleScale=1,this.stars.minParticleSpeed.setTo(0,-80),this.stars.maxParticleSpeed.setTo(0,-120),this.stars.start(!1,700,100,0)}},{key:"spriteImage",get:function(){return"enemy-git"}},{key:"torpedoType",get:function(){return"big-boy"}},{key:"speedMultiplier",get:function(){return 1},set:function(e){this._speedMultiplier=1}}]),t}(m)},{}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.ENEMY_GIT_DIMENSIONS=i.ENEMY_INSTRUCTIONS_DIMENSIONS=i.ENEMY_CONSOLE_DIMENSIONS=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("objects/Enemy"),o=(n(r),i.ENEMY_CONSOLE_DIMENSIONS={width:30,height:30},i.ENEMY_INSTRUCTIONS_DIMENSIONS={width:30,height:30},i.ENEMY_GIT_DIMENSIONS={width:30,height:30},function(){function e(t,i){a(this,e),this.game=t,this.state=i,this.currentEnemy=null,this.spawned=0,this.onSpawningProgress=new Phaser.Signal}return s(e,[{key:"preload",value:function(){this.game.load.image("enemy-console","imgs/enemy-console.png"),this.game.load.image("enemy-instruction","imgs/enemy-instruction.png"),this.game.load.image("enemy-git","imgs/enemy-git.png"),this.game.load.spritesheet("star-particles","imgs/star-particles.png",20,24)}},{key:"create",value:function(){this.state.enemies=this.game.add.physicsGroup()}},{key:"render",value:function(){}},{key:"update",value:function(){this.state.enemies.iterate("alive",!0,Phaser.Group.RETURN_NONE,function(e){e.entity.update()})}},{key:"spawnEnemyAt",value:function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?r.ConsoleEnemy:arguments[3],a=arguments[4];return new n(this.game,this.state,i,e,t,a)}},{key:"spawnEnemyAtRandom",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"console":arguments[1],i=Math.random()*this.game.world.width,n=-32;return this.spawnEnemyAt(i,n,e,t)}},{key:"nextLevel",value:function(){this.spawned=0}}]),e}());i["default"]=o},{"objects/Enemy":5}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("util/GradientBackground"),o=n(r),l=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?4e3:arguments[1],n=arguments.length<=2||void 0===arguments[2]?7e3:arguments[2];a(this,e),this.game=t,this.minTime=i,this.maxTime=n}return s(e,[{key:"preload",value:function(){this.game.load.image("bubble","imgs/bubble.png"),this.bg=new o["default"](this.game)}},{key:"create",value:function(){this.bg.create(this.game.world.width,this.game.world.height,[{value:"#d8f6ff",position:0},{value:"#5dc4e6",position:.8}]),this.bubbles=this.game.add.physicsGroup(),this.bubbles.createMultiple(32,"bubble",!1),this.bubbles.callAll("anchor.setTo",this,.5,.5),this.game.time.events.add(this.maxTime,this.spawnBubbles,this)}},{key:"spawnBubbles",value:function(){for(var e=Math.floor(3*Math.random())+2,t=[],i=Math.random()*this.game.world.width,n=Math.random()<.5?-1:1,a=this.game.world.height,s=.2*Math.random()+.5,r=30*Math.random()+85,o=0;e>o;o++){var l=t[o]=this.bubbles.getFirstExists(!1);if(!l)break;l.reset(i,a),l.scale.x=s,l.scale.y=s,l.body.velocity.y=-r-(3*Math.random()+1)*Math.pow(1.1,e-o);var u=Math.random()*l.width*.5+l.width;i+=n*u,n*=-1;var h=Math.random()*l.height*.5+l.height;a+=h,s*=1.1+Math.random()/10}var c=Math.random()*(this.maxTime-this.minTime)+this.minTime;this.game.time.events.add(c,this.spawnBubbles,this)}},{key:"update",value:function(){this.bubbles.iterate("alive",!0,RETURN_NONE,function(e){e.bottom<0&&e.kill()},this)}}]),e}();i["default"]=l},{"util/GradientBackground":17}],8:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s={width:35,height:33},r={bottom:10,left:5},o=[120,800,200],l=function(){function e(t,i){n(this,e),this.game=t,this.state=i}return a(e,[{key:"preload",value:function(){this.game.load.image("text-game-over","imgs/text-game-over.png"),this.game.load.image("text-game-paused","imgs/text-game-paused.png"),this.game.load.image("progress-bar","imgs/progress-bar.png"),this.game.load.spritesheet("button-pause","imgs/button-pause.png",s.width,s.height),this.modals=new gameModal(this.game)}},{key:"create",value:function(e,t){var i=(e.resumeCallback,e.pauseCallback);e.replayCallback,e.menuCallback;this.createGameOverModal(arguments[0],t),this.createGamePausedModal(arguments[0],t),this.createEndGameModal(arguments[0],t);var n=this.game.add.button(r.left,this.game.world.height-r.bottom,"button-pause",i,t,1,0,1,0);n.anchor.setTo(0,1),this.createNextLevelMessage()}},{key:"createGameOverModal",value:function(e,t){var i=(e.resumeCallback,e.replayCallback),n=e.menuCallback;this.modals.createModal({type:"gameOver",includeBackground:!0,itemsArr:[{type:"image",content:"text-game-over",offsetY:-50},{type:"text",content:"replay",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:-70,stroke:"0x000000",strokeThickness:9,callback:i.bind(t)},{type:"text",content:"menu",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:70,stroke:"0x000000",strokeThickness:9,callback:n.bind(t)}]});var a=this.modals.getModalItem("gameOver",3),s=this.modals.getModalItem("gameOver",4);a.inputEnabled=!0,s.inputEnabled=!0,a.events.onInputOver.add(this.hoverTextButton,this,0,a),s.events.onInputOver.add(this.hoverTextButton,this,0,s),a.events.onInputOut.add(this.outTextButton,this,0,a),s.events.onInputOut.add(this.outTextButton,this,0,s)}},{key:"createGamePausedModal",value:function(e,t){var i=e.resumeCallback,n=(e.replayCallback,e.menuCallback);this.modals.createModal({type:"gamePaused",includeBackground:!0,itemsArr:[{type:"image",content:"text-game-paused",offsetY:-50},{type:"text",content:"resume",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:-70,stroke:"0x000000",strokeThickness:9,callback:i.bind(t)},{type:"text",content:"menu",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:70,stroke:"0x000000",strokeThickness:9,callback:n.bind(t)}]});var a=this.modals.getModalItem("gamePaused",3),s=this.modals.getModalItem("gamePaused",4);a.inputEnabled=!0,s.inputEnabled=!0,a.events.onInputOver.add(this.hoverTextButton,this,0,a),s.events.onInputOver.add(this.hoverTextButton,this,0,s),a.events.onInputOut.add(this.outTextButton,this,0,a),s.events.onInputOut.add(this.outTextButton,this,0,s)}},{key:"createEndGameModal",value:function(e,t){var i=(e.resumeCallback,e.replayCallback),n=e.menuCallback;this.modals.createModal({type:"endGame",includeBackground:!0,itemsArr:[{type:"text",content:"Congratulations!!\n\nGo Unleash \nYour Kraken Now",fontFamily:"Chango",fontSize:28,offsetY:-80,color:"0x9A22FF",stroke:"0x000000",strokeThickness:9},{type:"text",content:"replay",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:-70,stroke:"0x000000",strokeThickness:9,callback:i.bind(t)},{type:"text",content:"menu",fontFamily:"Chango",fontSize:28,color:"0xFEFF49",offsetY:40,offsetX:70,stroke:"0x000000",strokeThickness:9,callback:n.bind(t)}]});var a=this.modals.getModalItem("endGame",3),s=this.modals.getModalItem("endGame",4);a.inputEnabled=!0,s.inputEnabled=!0,a.events.onInputOver.add(this.hoverTextButton,this,0,a),s.events.onInputOver.add(this.hoverTextButton,this,0,s),a.events.onInputOut.add(this.outTextButton,this,0,a),s.events.onInputOut.add(this.outTextButton,this,0,s)}},{key:"createNextLevelMessage",value:function(){var e=this,t=this.game.world.width,i=this.game.world.height;this.nextLevelTexts=[],this.nextLevelTexts.push(this.game.add.text(t,.4*i,"Next level!",{font:"40px Chewy",color:"#333333"})),this.nextLevelTexts.push(this.game.add.text(0,.55*i,"2",{font:"55px Chewy",color:"#000000"})),this.nextLevelTexts[0].anchor.setTo(0,.5),this.nextLevelTexts[1].anchor.setTo(1,.5);var n=[[.6*t,.4*t,-this.nextLevelTexts[0].width,t],[.4*t,.6*t,t,this.nextLevelTexts[1].widdth]];this.nextLevelTweens=[],this.nextLevelTweens=this.nextLevelTexts.map(function(t,i){var a=e.game.add.tween(t),s=e.game.add.tween(t),r=e.game.add.tween(t);return a.to({x:n[i][0]},o[0],Phaser.Easing.Quadratic.Out,!1,0),s.to({x:n[i][1]},o[1],Phaser.Easing.Linear.None,!1,0),r.to({x:n[i][2]},o[2],Phaser.Easing.Quadratic.In,!1,0),r.onComplete.add(function(){t.x=n[i][3]}),a.chain(s.chain(r)),a})}},{key:"hoverTextButton",value:function(e){e.fill="#FF9649"}},{key:"outTextButton",value:function(e){e.fill="#FEFF49"}},{key:"showNextLevelMessage",value:function(e){return this.nextLevelTexts[1].text=""+e,this.nextLevelTweens.forEach(function(e){return e.start()}),o.reduce(function(e,t){return e+t},0)}}]),e}();i["default"]=l},{}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s={width:56,height:100},r={width:40,height:40,offsetY:-12},o={width:16,height:16},l={right:10,bottom:10,between:2},u=3,h=function(){function e(t){n(this,e),this.game=t,this.lives=new c(this.game)}return a(e,[{key:"preload",value:function(){this.game.load.spritesheet("kraken","imgs/kraken-sprite.png",s.width,s.height),this.game.load.spritesheet("kraken-particles","imgs/kraken-particles.png",1,1),this.lives.preload()}},{key:"create",value:function(){var e=this.game.world.width,t=this.game.world.height;this.sprite=this.game.add.sprite(e/2,t-50,"kraken"),this.sprite.entity=this,this.game.physics.arcade.enable(this.sprite),this.sprite.anchor.setTo(.5,.5),this.sprite.body.setSize(r.width,r.height,0,r.offsetY);this.sprite.animations.add("goingToSwim",[0,1,2,3],20,!1),this.sprite.animations.add("swimming",[4,5],5,!0),this.sprite.animations.add("stoppingToSwim",[4,5,1,0],20,!1);this.floatingTween=this.game.add.tween(this.sprite),this.floatingTween.to({y:this.sprite.y-5},350,Phaser.Easing.Quadratic.InOut,!0,0,-1,!0),this.lives.create(),this.emitter=this.game.add.emitter(0,0,250),this.emitter.makeParticles("kraken-particles",[0,1,2,3,4]),this.sprite.addChild(this.emitter),this.emitter.gravity=400,this.emitter.x=0,this.emitter.y=.25*this.sprite.height,this.emitter.alpha=.7,this.emitter.width=.5*this.sprite.width,this.emitter.minParticleSpeed=new Phaser.Point(-30,10),this.emitter.maxParticleSpeed=new Phaser.Point(30,10)}},{key:"render",value:function(){}},{key:"playSwimming",value:function(){var e=this,t=1800,i=this.game.time.time;this.emitter.start(!1,1e3,10),this.floatingTween.pause();var n=this.game.add.tween(this.sprite),a=this.game.add.tween(this.sprite),s=this.game.add.tween(this.sprite);n.to({y:.5*this.game.world.height},t/3,Phaser.Easing.Quadratic.Out,!0),a.to({y:-.5*this.sprite.height},t/4,Phaser.Easing.Quadratic.Out,!1),s.to({y:this.game.world.height-50},t/5,Phaser.Easing.Quadratic.Out,!1),a.onComplete.addOnce(function(){e.sprite.y=e.game.world.height+e.sprite.height/2},this),s.onComplete.addOnce(function(){e.floatingTween.resume()},this),n.chain(a.chain(s));var r=this.emitter;this.sprite.animations.play("goingToSwim").onComplete.addOnce(function(n){n.animations.play("swimming").onLoop.add(function(n){var a=e.game.time.time;a>=i+t&&(n.animations.play("stoppingToSwim"),r.on=!1)})})}},{key:"hit",value:function(e,t){return--this.lives.value<=0?(e.call(t),!0):!1}}]),e}();i["default"]=h;var c=function(){function e(t){n(this,e),this.game=t,this._value=u}return a(e,[{key:"preload",value:function(){this.game.load.spritesheet("life","imgs/life.png",o.width,o.height)}},{key:"create",value:function(){var e=this.game.world.width,t=this.game.world.height;this.lifeIcons=this.game.add.group();for(var i=0;u>i;i++){var n=this.game.add.sprite(e-l.right-o.width/2-i*(o.width+l.between),t-o.height/2-l.bottom,"life");n.anchor.setTo(.5,.5),this.lifeIcons.add(n)}}},{key:"value",set:function(e){var t=this;this._value=e,this.lifeIcons.forEachExists(function(e){var i=t.lifeIcons.getIndex(e);e.frame=i+1>t._value?1:0},this)},get:function(){return this._value}}]),e}()},{}],10:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function x(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:x(a,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("objects/EnemySpawner"),h=n(u),c=e("objects/Enemy"),d=(n(c),e("levels/levels")),f=n(d),m=e("gkui/gkui"),p=n(m),g=600,y=function(){function e(t,i,n){r(this,e),this.wave=t,this.level=i,this.spawner=n,this.spawned=0,this.killed=0}return l(e,[{key:"start",value:function(){}},{key:"spawn",value:function(){this.spawned++,this.spawner.spawned++,this.spawner.onSpawningProgress.dispatch({progress:this.progressTotal,finished:this.progressTotal>=1})}},{key:"enemyWasDestroyed",value:function(e,t){this.killed++,this.killed>=this.totalEnemies&&e.call(t)}},{key:"progressTotal",get:function(){return this.spawner.spawned/this.spawner.totalEnemies}}]),e}(),v=function(e){function t(e,i,n){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e,i,n))}return s(t,e),l(t,[{key:"start",value:function(){this.spawner.game.time.events.repeat(g,this.totalEnemies,this.spawn,this)}},{key:"spawn",value:function(){var e=Phaser.Math.linear(1.5*u.ENEMY_INSTRUCTIONS_DIMENSIONS.width,this.spawner.game.world.width,this.spawned/this.totalEnemies),i=this.wave.enemies.exactly[this.spawned],n=this.spawner.spawnEnemyAt(e,0,i,c.InstructionEnemy);n.create(),o(Object.getPrototypeOf(t.prototype),"spawn",this).call(this)}},{key:"totalEnemies",get:function(){return this.wave.enemies.exactly.length}}]),t}(y),b=function(e){function t(e,i,n){r(this,t);var s=a(this,Object.getPrototypeOf(t).call(this,e,i,n)),o=s.spawner.consoleWaves,l=s.level.waves.indexOf(e),u=l/o.length;return s.minInterval=Phaser.Math.linear(s.level.initialMinInterval,s.level.finalMinInterval,u),s.maxInterval=Phaser.Math.linear(s.level.initialMaxInterval,s.level.finalMaxInterval,u),s.speedMultiplier=Phaser.Math.linear(s.level.initialSpeedMultiplier,s.level.finalSpeedMultiplier,u),s}return s(t,e),l(t,[{key:"start",value:function(){var e=this;this.spawned<this.totalConsoleEnemies&&this.spawner.game.time.events.add(this.spawner.game.rnd.between(this.minInterval,this.maxInterval),this.spawn,this);var t=this.wave.enemies.git;t&&!this.hasSpawnedGitEnemy&&this.progressConsoleOnly>=t.atProgress&&!function(){
e.hasSpawnedGitEnemy=!0;var t=e.spawn(c.GitEnemy);t.uponDeath=function(){p["default"].animate.call(this.spawner.state,t.name)}.bind(e)}()}},{key:"spawn",value:function(){var e=arguments.length<=0||void 0===arguments[0]?c.ConsoleEnemy:arguments[0],i=e===c.ConsoleEnemy?this.nextEnemy():this.wave.enemies.git,n=e===c.ConsoleEnemy?this.spawner.game.rnd.between(-u.ENEMY_INSTRUCTIONS_DIMENSIONS.width,this.spawner.game.world.width+u.ENEMY_INSTRUCTIONS_DIMENSIONS.width):this.spawner.game.rnd.between(this.spawner.game.world.width/3,this.spawner.game.world.width/3*2),a=this.spawner.spawnEnemyAt(n,0,i.cmd,e,i.name);return a.speedMultiplier=this.speedMultiplier,a.create(),o(Object.getPrototypeOf(t.prototype),"spawn",this).call(this),this.start(),a}},{key:"nextEnemy",value:function(){return this.wave.enemies.fromPool?this.spawner.game.rnd.pick(this.wave.enemies.fromPool):this.wave.enemies.exactly?this.wave.enemies.exactly[this.spawned]:"null"}},{key:"totalEnemies",get:function(){return this._totalEnemies||(this._totalEnemies=this.totalConsoleEnemies+(this.wave.enemies.git?1:0)),this._totalEnemies}},{key:"totalConsoleEnemies",get:function(){return this._totalConsoleEnemies||(this._totalConsoleEnemies=0+(this.wave.enemies.quantity||0)+(this.wave.enemies.exactly||[]).length),this._totalConsoleEnemies}},{key:"progressConsoleOnly",get:function(){return(this.spawned-(this.hasSpawnedGitEnemy?1:0))/this.totalConsoleEnemies}}]),t}(y),w=function(e){function t(e,i){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e,i));return n.levels=f["default"],n.currentLevelIndex=0,n._totalEnemies=[],n.state.onDestroyingProgress.add(n.enemyWasDestroyed,n),n}return s(t,e),l(t,[{key:"start",value:function(){var e=this;this.spawned=0,this.waves=this.levels[this.currentLevelIndex].waves.map(function(t){var i="instructions"===t.type?v:b;return new i(t,e.currentLevel,e)}),this.currentWaveIndex=0,this.currentWave.start()}},{key:"nextWave",value:function(){var e=this.currentWave;this.currentWaveIndex++,this.currentWave&&this.game.time.events.add(e.wave.delayAfter,this.currentWave.start,this.currentWave)}},{key:"hasNextLevel",value:function(){return this.currentLevelIndex+1<this.levels.length}},{key:"nextLevel",value:function(){o(Object.getPrototypeOf(t.prototype),"nextLevel",this).call(this),this.currentLevelIndex++,this.start()}},{key:"enemyWasDestroyed",value:function(){this.currentWave||console.error("tried to tell a wave spawner that an enemy was destroyed, but there were no more currentWave"),this.currentWave.enemyWasDestroyed(this.nextWave,this)}},{key:"currentWave",get:function(){return this.waves[this.currentWaveIndex]}},{key:"currentLevel",get:function(){return this.levels[this.currentLevelIndex]}},{key:"consoleWaves",get:function(){return this._consoleWaves||(this._consoleWaves=this.currentLevel.waves.filter(function(e){return"console"===e.type})),this._consoleWaves}},{key:"totalEnemies",get:function(){return this._totalEnemies[this.currentLevelIndex]||(this._totalEnemies[this.currentLevelIndex]=this.waves.reduce(function(e,t){return e+t.totalEnemies},0)),this._totalEnemies[this.currentLevelIndex]}}]),t}(h["default"]);i["default"]=w},{"gkui/gkui":1,"levels/levels":4,"objects/Enemy":5,"objects/EnemySpawner":6}],11:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t,i,a,s){n(this,e),this.game=t,this.name=i,this.bezierPoints=a,this.t=0,this.tweenParams=s}return a(e,[{key:"createPath",value:function(){this.path=[];for(var e=1/(this.game.width/4),t=0;1>=t;t+=e){var i=this.game.math.bezierInterpolation(this.bezierPoints.x,t),n=this.game.math.bezierInterpolation(this.bezierPoints.y,t);this.path.push({x:i,y:n})}}},{key:"create",value:function(){this.createPath(),this.sprite=this.game.add.sprite(this.path[0].x,this.path[0].y,this.name),this.sprite.anchor.setTo(.5,.5),this.tween=this.game.add.tween(this),this.tween.to({t:1},this.tweenParams.duration,Phaser.Easing.Quadratic.Out),this.tween.delay(this.tweenParams.start),this.tween.start()}},{key:"update",value:function(){this.sprite.x=this.game.math.bezierInterpolation(this.bezierPoints.x,this.t),this.sprite.y=this.game.math.bezierInterpolation(this.bezierPoints.y,this.t)}}]),e}();i["default"]=s},{}],12:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function p(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:p(a,t,i)}if("value"in n)return n.value;var s=n.get;if(void 0!==s)return s.call(i)},u=e("objects/EnemySpawner"),h=n(u),c=1500,d=1400,f=1,m=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),o(t,[{key:"start",value:function(){this.game.time.events.add(c,this.randSpawn,this)}},{key:"randSpawn",value:function(){var e=this.spawnEnemyAtRandom("git clone");if(e.create(),this.spawned++,this.spawned<f){var t=Phaser.Math.linear(c,d,this.spawned/f);this.game.time.events.add(t*(.2*Math.random()+.9),this.randSpawn,this)}this.onSpawningProgress.dispatch({progress:this.spawned/f,finished:this.spawned===f})}},{key:"nextLevel",value:function(){l(Object.getPrototypeOf(t.prototype),"nextLevel",this).call(this),this.start()}}]),t}(h["default"]);i["default"]=m},{"objects/EnemySpawner":6}],13:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("util/rand"),r={width:16,height:24},o=1500,l={x:{min:200,variation:420},y:{min:-10,variation:-15}},u=390,h=100,c={JUST_SHOT:"JUST_SHOT",PURSUING:"PURSUING",ADRIFT:"ADRIFT"},d=function(){function e(t,i,a,s){n(this,e),this.game=t,this.group=i,this.player=a,this.target=s,this.state=c.JUST_SHOT}return a(e,[{key:"create",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"torpedo":arguments[0];this.sprite=this.game.add.sprite(this.player.sprite.x,this.player.sprite.top,e),this.group.add(this.sprite),this.sprite.entity=this,this.sprite.anchor.setTo(.5,.5),this.sprite.body.velocity.x=Phaser.Utils.randomChoice(1,-1)*(0,s.randomFloat)(l.x.min,l.x.variation),this.sprite.body.velocity.y=(0,s.randomFloat)(l.y.min,l.y.variation),this.sprite.body.drag.x=.4,this.sprite.body.drag.y=.1,this.sprite.tint=16724838,this.born=this.game.time.time,this.sprite.animations.add("turnedOff",[2,3],5,!0),this.sprite.animations.add("pursuing",[0,1],20,!0),this.sprite.play("turnedOff"),this.sprite.body.allowRotation=!1}},{key:"render",value:function(){}},{key:"update",value:function(){this.checkState();var e={x:this.target.sprite.x,y:Phaser.Math.linear(this.target.sprite.y,this.target.sprite.bottom,.75)};switch(this.state){case c.JUST_SHOT:var t=Math.atan2(this.target.sprite.y-this.sprite.y,this.target.sprite.x-this.sprite.x),i=Math.cos(t)*u,n=Math.sin(t)*u;this.sprite.body.velocity.x=Phaser.Math.linear(this.sprite.body.velocity.x,i,(this.game.time.time-this.born)/o),this.sprite.body.velocity.y=Phaser.Math.linear(this.sprite.body.velocity.y,n,(this.game.time.time-this.born)/o),this.sprite.rotation=Math.atan2(this.sprite.body.velocity.y,this.sprite.body.velocity.x)+Math.PI/2;break;case c.PURSUING:this.game.time.time>this.lastSteer+h&&(this.sprite.rotation=this.game.physics.arcade.moveToObject(this.sprite,e,u)+Math.PI/2,this.lastSteer=this.game.time.time);break;case c.ADRIFT:this.sprite.rotation=Math.atan2(this.sprite.body.velocity.y,this.sprite.body.velocity.x)+Math.PI/2}}},{key:"checkState",value:function(){this.state===c.ADRIFT||this.target&&this.target.sprite&&this.target.sprite.alive?this.state===c.JUST_SHOT&&this.game.time.time>this.born+o/4&&"pursuing"!==this.sprite.animations.currentAnim.name?(this.sprite.tint=16777215,this.sprite.play("pursuing")):this.state===c.JUST_SHOT&&this.game.time.time>this.born+o&&(this.sprite.body.drag.x=0,this.sprite.body.drag.y=0,this.lastSteer=this.game.time.time-1,this.state=c.PURSUING):(this.state=c.ADRIFT,this.sprite.tint=7829367,this.sprite.play("turnedOff"))}},{key:"destroy",value:function(){this.sprite.parent.remove(this.sprite,!0),this.sprite.entity=null}}],[{key:"preload",value:function(e){e.load.spritesheet("torpedo","imgs/torpedo.png",r.width,r.height),e.load.spritesheet("laser","imgs/laser.png",r.width,r.height),e.load.spritesheet("big-boy","imgs/big-boy.png",r.width,r.height)}}]),e}();i["default"]=d},{"util/rand":19}],14:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("objects/KrakenPlayer"),u=n(l),h=e("objects/Enemy"),c=(n(h),e("objects/GameBackground")),d=n(c),f=e("objects/RandomSpawner"),m=(n(f),e("objects/LevelSpawner")),p=n(m),g=e("objects/Torpedo"),y=n(g),v=e("objects/GameStateHUD"),b=n(v),w=e("gkui/gkui"),x=n(w),k=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),o(t,[{key:"preload",value:function(){this.player=new u["default"](this.game),this.player.preload(),this.bg=new d["default"](this.game),this.bg.preload(),this.onDestroyingProgress=new Phaser.Signal,this.spawner=new p["default"](this.game,this),this.spawner.preload(),y["default"].preload(this.game),this.hud=new b["default"](this.game,this),this.hud.preload(),this.currentLevel=1}},{key:"create",value:function(){this.game.physics.startSystem(Phaser.Physics.ARCADE),this.bg.create(),this.spawner.create(),this.spawner.onSpawningProgress.add(this.progress,this),this.game.input.keyboard.addCallbacks(this,null,null,this.keyPressed),this.torpedos=this.game.add.physicsGroup(),this.hud.create({replayCallback:this.replayGame,resumeCallback:this.resumeGame,menuCallback:this.leaveToMenu,pauseCallback:this.pauseGame},this),this.player.create(),this.spawner.start(),x["default"].reset()}},{key:"render",value:function(){this.spawner.render(),this.player.render()}},{key:"update",value:function(){var e=this;this.spawner.update(),this.game.physics.arcade.overlap(this.player.sprite,this.enemies,function(t,i){var n=t.entity.hit(e.gameOver,e);e.destroyEnemy(i,n)},function(e,t){return"instruction"!==t.entity.type}),this.torpedos.forEachAlive(function(e){e.entity.update()}),this.enemies.forEachAlive(function(t){t.top>e.game.world.height&&e.destroyEnemy(t,!1),e.game.physics.arcade.overlap(t,e.torpedos,function(i,n){var a=t.entity.hitByTorpedo();n.entity.destroy(),a&&e.destroyEnemy(t,!1)},function(e,i){return i.entity.target===t.entity})},this)}},{key:"destroyEnemy",value:function(e,t){e.entity.destroy(),this.onDestroyingProgress.dispatch(),this.spawner.currentEnemy===e.entity&&(this.spawner.currentEnemy=null),!this.finishedSpawning||t||this.enemies.countLiving()||this.nextLevel()}},{key:"keyPressed",value:function(e,t){var i=this.spawner;if(i.currentEnemy||this.enemies.iterate("alive",!0,Phaser.Group.RETURN_NONE,function(t){i.currentEnemy||t.entity.currentChar===e&&(i.currentEnemy=t.entity)}),i.currentEnemy&&i.currentEnemy.currentChar===e){var n=i.currentEnemy.killChar();this.shootTorpedo(i.currentEnemy),n&&(i.currentEnemy=null)}}},{key:"shootTorpedo",value:function(e){var t=new y["default"](this.game,this.torpedos,this.player,e);t.create(e.torpedoType)}},{key:"progress",value:function(e){e.finished&&(this.finishedSpawning=!0)}},{key:"nextLevel",value:function(){var e=this;this.finishedSpawning=!1;var t=this.spawner.hasNextLevel();if(this.player.playSwimming(t),t){var i=this.hud.showNextLevelMessage(++this.currentLevel);this.game.time.events.add(i,function(){e.spawner.nextLevel(e.currentLevel)},this)}else this.hud.modals.showModal("endGame")}},{key:"gameOver",value:function(){this.hud.modals.hideModal("gamePaused"),this.hud.modals.showModal("gameOver")}},{key:"pauseGame",value:function(){this.game.physics.arcade.isPaused=!0,this.game.time.events.pause(),this.hud.modals.showModal("gamePaused")}},{key:"resumeGame",value:function(){this.game.physics.arcade.isPaused=!1,this.game.time.events.resume(),this.hud.modals.hideModal("gamePaused")}},{key:"replayGame",value:function(){x["default"].reset(),this.resumeGame(),this.game.state.start("game")}},{key:"leaveToMenu",value:function(){this.resumeGame(),this.game.state.start("menu")}}]),t}(Phaser.State);i["default"]=k},{"gkui/gkui":1,"objects/Enemy":5,"objects/GameBackground":7,"objects/GameStateHUD":8,"objects/KrakenPlayer":9,"objects/LevelSpawner":10,"objects/RandomSpawner":12,"objects/Torpedo":13}],15:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){function t(){return n(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),r(t,[{key:"preload",value:function(){this.game.load.image("bubble-bg","imgs/bubble-bg.png"),this.game.load.image("bubble-bg-smaller","imgs/bubble-bg-smaller.png")}},{key:"create",value:function(){this.game.stage.backgroundColor="#fff",this.bubbleField1=this.game.add.tileSprite(0,0,this.game.world.width,this.game.world.height,"bubble-bg"),this.bubbleField2=this.game.add.tileSprite(0,0,this.game.world.width,this.game.world.height,"bubble-bg-smaller"),this.bgAngle=0,this.logo=this.game.add.text(this.game.world.centerX,.8*this.game.world.centerY,"Kraken\nTyping"),this.logo.anchor.setTo(.5,.5),this.logo.fontSize=42,this.logo.lineSpacing=-33,this.logo.align="center",this.logo.font="Chango",this.logo.fontWeight="normal";var e=this.logo.context.createLinearGradient(0,0,0,this.logo.height);e.addColorStop(0,"#00FFFF"),e.addColorStop(1,"#B200FF"),this.logo.fill=e,this.logo.strokeThickness=15,this.logo.stroke="#111",this.logo.margin=new Phaser.Point(0,20),this.playGameText=this.createMenuItem("play",1.2*this.game.world.centerY,this.startGame)}},{key:"render",value:function(){}},{key:"update",value:function(){this.bgAngle+=.001,this.bubbleField1.tilePosition.y-=.1,this.bubbleField1.tilePosition.x+=.1*Math.sin(this.bgAngle),this.bubbleField2.tilePosition.y-=.5,this.bubbleField2.tilePosition.x+=.5*Math.sin(this.bgAngle)}},{key:"createMenuItem",value:function(e,t,i){var n=this,a=this.game.add.text(this.game.world.centerX,t,e);a.anchor.setTo(.5,.5),a.font="Chango",a.fontSize=28,a.fill="#FEFF49",a.stroke="#000000",a.strokeThickness=9,a.inputEnabled=!0,a.events.onInputDown.add(i,this),a.events.onInputOver.add(function(){a.fill="#FF9649",n.game.canvas.style.cursor="pointer"},this),a.events.onInputOut.add(function(){a.fill="#FEFF49",n.game.canvas.style.cursor="initial"},this),a.cursor="pointer"}},{key:"startGame",value:function(){this.game.state.start("game")}},{key:"options",value:function(){}},{key:"credits",value:function(){}}]),t}(Phaser.State);i["default"]=o},{}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("util/TweenParams"),u=n(l),h=e("objects/LogoBall"),c=n(h),d=function(e){function t(){return a(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return r(t,e),o(t,[{key:"createBalls",value:function(){var e=this,t=this.game.world.width,i=t/2,n=this.game.world.height,a=n/2,s={"logo-ball1":{x:[-50,i+50,i-50,.65*i],y:[n,.3*n,.15*n,.6*a]},"logo-ball2":{x:[-75,i+150,i+75,1*i],y:[n,.2*n,.05*n,.45*a]},"logo-ball3":{x:[-150,i+250,i+150,1.35*i],y:[n,.4*n,.25*n,.75*a]}};this.balls=Object.keys(s).map(function(t,i){var n=new c["default"](e.game,t,s[t],e["animLogoBall"+(i+1)]);return n.create(),e.game.add.existing(n.sprite),n})}},{key:"preload",value:function(){this.game.load.image("logo-text","imgs/trio-ternura-studios.png"),this.animLogoText=new u["default"](200,200,Phaser.Easing.Quadratic.Out),this.animLogoBall1=new u["default"](800,750,Phaser.Easing.Bounce.Out),this.animLogoBall2=new u["default"](950,750,Phaser.Easing.Bounce.Out),this.animLogoBall3=new u["default"](1100,750,Phaser.Easing.Bounce.Out),this.game.load.image("logo-ball1","imgs/logo-ball1.png"),this.game.load.image("logo-ball2","imgs/logo-ball2.png"),this.game.load.image("logo-ball3","imgs/logo-ball3.png")}},{key:"create",value:function(){this.game.stage.backgroundColor="#fff";var e=this.game.add.sprite(this.game.world.width/2,this.game.world.height,"logo-text");e.anchor.setTo(.5,0),this.game.add.tween(e).to({y:.5*this.game.world.height},this.animLogoText.duration,Phaser.Easing.Quadratic.Out,!0,this.animLogoText.start),this.createBalls(),this.game.make.text(-100,-100,"a",{font:"Chewy"}),this.game.make.text(-100,-100,"b",{font:"Chango"}),this.game.make.text(-100,-100,"c",{font:"Ubuntu Mono"}),this.game.time.events.add(5e3,this.goToMenu,this)}},{key:"render",value:function(){}},{key:"update",value:function(){this.balls.forEach(function(e){e.update()})}},{key:"goToMenu",value:function(){this.game.state.start("menu")}}]),t}(Phaser.State);i["default"]=d},{"objects/LogoBall":11,"util/TweenParams":18}],17:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){n(this,e),this.game=t}return a(e,[{key:"create",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?[{value:"white",position:0}]:arguments[2],n=this.game.add.bitmapData(e,t),a=n.context.createLinearGradient(0,0,0,t);i.forEach(function(e){a.addColorStop(e.position,e.value)}),n.context.fillStyle=a,n.context.fillRect(0,0,e,t),this.game.add.sprite(0,0,n)}}]),e}();i["default"]=s},{}],18:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function s(e,t){n(this,s),this.start=e,this.duration=t};i["default"]=a},{}],19:[function(e,t,i){"use strict";function n(e,t){return Math.random()*t+e}Object.defineProperty(i,"__esModule",{value:!0}),i.randomFloat=n},{}]},{},[2]);